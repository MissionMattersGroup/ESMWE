<!-------------------------------------------------------------------------------------------------------- 
    Page: ServicePlanInterface Page 
    Description: This page is used to show services, Goals and Objectives related to service plan
----------------------------------------------------------------------------------------------------------> 
<aspx:AspxPage runat="server" Id="ServicePlanPageId" title="ServicePlanInterface">
<header>
    <aspx:ActiveTemplate runat="server" Name="ISP_TemplateForLabelConstant"/>
    <aspx:IncludeStyleSheet runat="server" url='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css'/> 
    <aspx:IncludeScript runat="server" url='<%# Url.Asset("Javascript/JquerySignaturemin.js")%>'/>
    <aspx:IncludeScript runat="server" url='<%# Url.Asset("Javascript/JquerySignature.js")%>'/>
    <aspx:IncludeScript runat="server" url='<%# Url.Asset("Javascript/excanvas.js")%>'/>
    <aspx:IncludeStyleSheet runat="server" url='<%# Url.ToAbsoluteUrl(Url.Asset("Css/signature.css"))%>'/>
    <aspx:IncludeScript runat="server" url='<%# Url.Asset("Javascript/UtilityFunctions.js")%>'/>
    <aspx:IncludeScript runat="server" url='<%# Url.Asset("Javascript/ServicePlanInterface.js")%>'/>
    <aspx:IncludeScript runat="server" url='<%# Url.Asset("Javascript/ServicePlanInterfacePrintServiceAgreement.js")%>'/>
    <aspx:IncludeScript runat="server" url='<%# Url.Asset("Javascript/jquery-scrollto.js")%>'/>
    <aspx:IncludeStyleSheet runat="server" url='<%# Url.Asset("Css/StyleForServicePlanInterfacePlan.css")%>'/>
    <style>
        textarea{
            height:151px;
        }
        .addServicesMargine{
            margin-top: 1.5%;
        }
    </style>
    
</header>
<body>
    <!------ Start Validation Error Popup ------>
    <div id="errorModal" class="modal fade" role="dialog" data-backdrop="static">
        <div class="modal-dialog">
    
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Error</h4>
                </div>
                <div class="modal-body">
                    
                    <aspx:ViewMessages runat='server' inline='false'/>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
    
        </div>
    </div>
    <!------ End Validation Error Popup -------->
    
    <!--------Start Validation Custom Error Popup ---->
    <div id="errorCustomModal" class="modal fade" role="dialog" data-backdrop="static">
        <div class="modal-dialog">
    
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Error</h4>
                </div>
                <div class="modal-body">
                    
                    <!-- Display the DML Exception Errors Ex: Lookup Filters Error -->
                    <%if(DataBag.Exception!="") { %>
                        <div class="tabMessages container-fluid ServerExceptionCustomClass">
                            <div class="messageContainer row Error">
                                 <table class="messageTable">
                                      <tbody>
                                           <tr style="vertical-align:top;">
                                                <td align="center" valign="top">
                                                      <img src="/_assets/images/s.gif" class="msgIcon" alt="Error" title="Error">
                                                 </td>
                                                 <td class="messageCell">
                                                        <div class="messageText"><h4>Error: </h4>
                                                             <span><%=DataBag.Exception%></span>
                                                        </div>
                                                 </td>
                                            </tr>
                                        </tbody>
                                 </table>
                            </div>
                        </div>
                    <%}%>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
    
        </div>
    </div>
    <!---- End Validation Custom Error Popup ------->
    
    <!--------Start Validation Custom Error Popup ---->
    <div id="errorCustomValidationModal" class="modal fade" role="dialog" data-backdrop="static">
        <div class="modal-dialog">
    
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Error</h4>
                </div>
                <div class="modal-body">
                    
                    <!-- Display the DML Exception Errors Ex: Lookup Filters Error -->
                    <div class="tabMessages container-fluid ErrorValidationCustomClass">
                        <div class="messageContainer row Error">
                             <table class="messageTable">
                                  <tbody>
                                       <tr style="vertical-align:top;">
                                            <td align="center" valign="top">
                                                  <img src="/_assets/images/s.gif" class="msgIcon" alt="Error" title="Error">
                                             </td>
                                             <td class="messageCell">
                                                    <div class="messageText"><h4>Error: </h4>
                                                         <span id="ShowErrorMeassageId"></span>
                                                    </div>
                                             </td>
                                        </tr>
                                    </tbody>
                             </table>
                        </div>
                    </div>
                    
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
    
        </div>
    </div>
    <!---- End Validation Custom Error Popup ------->
    
    <!--Display the error messages if any issue on the Page-->
    <%if(DataBag.Exception == "") { %>
        <aspx:ViewMessages runat='server' inline='false'/>
    <%}%>
    
    <!-- Display the DML Exception Errors Ex: Lookup Filters Error -->
    <%if(DataBag.Exception!="") { %>
        <div class="tabMessages container-fluid">
            <div class="messageContainer row Error">
                 <table class="messageTable">
                      <tbody>
                           <tr style="vertical-align:top;">
                                <td align="center" valign="top">
                                      <img src="/_assets/images/s.gif" class="msgIcon" alt="Error" title="Error">
                                 </td>
                                 <td class="messageCell">
                                        <div class="messageText"><h4>Error: </h4>
                                             <span><%=DataBag.Exception%></span>
                                        </div>
                                 </td>
                            </tr>
                        </tbody>
                 </table>
            </div>
        </div>
    <%}%>
    
    <%if(DataBag.DisplayISP==true){%>
        
    <div class="container">
        <h3>Service Plan 
            <% if (DataBag.strServicePlanClientName !="") {%>
                for <b><%=DataBag.strServicePlanClientName%></b>
            <%}%>
        </h3><br/>               
        <center>
        <div id="SaveBtnId">
            <% if (DataBag.IsStatusCompleted == false) {%>
                <button type="button" id="saveAllISPInfoId" class="btn backgroundForMainButton" onclick="setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save</button>
                <button type="button" id="saveCompleteId" class="btn backgroundForMainButton" onclick="setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save and Complete ISP</button>
            <%}%>
            <% if (DataBag.IsStatusCompleted == true) {%>
                <% if (DataBag.isReEditableAfterCompleted == false) {%>
                    <button type="button" class="btn backgroundForMainButton" data-dismiss="modal" data-toggle="modal" data-target="#editISPModal"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</button>
                <%}%>
                <% if (DataBag.isReEditableAfterCompleted == true) {%>
                    <button type="button" id="saveCompleteId" class="btn backgroundForMainButton" data-dismiss="modal" data-toggle="modal" data-target="#AgainSaveAndCompleteISPModal"><span class="glyphicon glyphicon-save"></span>&nbsp;Save and Complete ISP</button>
                    <button type="button" class="btn backgroundForMainButton" data-dismiss="modal" onclick="doRedirect();"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</button>
                <%}%>
            <%}%>
        </div>
        </center><br/>
            
        <div class="panel-group">
            <div class="panel borderofPanel">
              <div class="panel-heading"><span class="glyphicon glyphicon-th-large"></span>&nbsp;Service Plan
                
              </div><br/>
              <center>
                <div id="ServicePlanSec">
                <% if (DataBag.IsEditable==false){%>
                    <% if (DataBag.IsStatusCompleted == false) {%>
                        <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="__doPostBack('EditServicePlan');"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</button>
                    <%}%>
                <%}else{%>
                    <% if (DataBag.IsStatusCompleted == false) {%>
                        <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="__doPostBack('SaveServicePlan');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save">&nbsp;Save</button>
                        <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="doRedirect();"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</button>
                    <%}%>
                <%}%>
                </div>
              </center>
              
              <div class="panel-body" id="ServicePlanObjectSectionID">
                <%
                Html.Repeat(DataBag.lstServicePlanObj as IList, html => { %>
        		
                    <% int counterServicePlan=0;%>
                    <%
                       
                         Html.Repeat(DataBag.lstOfServicePlanSection as IList, htmlSection => { %>   
                        <div class="panel panelClass">                                                        
                            <div class="panel-headingInline" style="height: 35px;">
                                <h4 class="panel-title" >
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOne<%=counterServicePlan%>" >
                                    <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                </a>
                                <%=htmlSection.DisplayTextFor("Title_Of_Section__c")%>
                                </h4>
                            </div>
                        </div>
                        <br/>
                        
                        <!-- The if condition is specificed to show the section collapsiable or not depending on the checkbox on Service Plan Section 
                        DataBag.isEditable: connditon is applied to display the section in non collapsiable format-->
                        <div id="collapseOne<%=counterServicePlan%>" class="section container-fluid panel-collapse collapse 
                            <% string strCollapseSec = htmlSection.DisplayTextFor("Collapse_Section__c");
                              if(strCollapseSec.Contains("false") || DataBag.isEditable==true){        
                            %>
                              in
                            <%}if(strCollapseSec.Contains("true") && DataBag.isEditable==false){%>
                              Out
                            <%}%>
                         ">
                            <div id="body_ServicePlanPageId_ctl03_body" class="sectionBody row form-horizontal  form-2-cols ">
                            <%foreach(var field in DataBag.lstSectionsFieldsDataBag[counterServicePlan]) { %>
                                <% if(DataBag.BlankSpace != field){ %>
                                     <%-- No column in section to display if for 2 column and else for 1 column--%>
                                        <% if(htmlSection.DisplayTextFor("No_Of_Columns__c")=="2"){ %>
                                		   <div class="col-md-6 col-sm-12 col-xs-12 WidenlenthFor-2-Column">
                                		       <div class="form-group form-group-0" >
                                		        <!-- The if condition is specificed to apply the css if the label does not contain space to display in a proper format-->
                                                    <label class="col-md-6 col-sm-3 control-label  
                                                    <% string strLabelOfServicePlan = html.LabelFor(field);
                                                          if(strLabelOfServicePlan.Contains(" ")){        
                                                        %>
                                                         
                                                        <%}else{%>
                                                        wordBreakClass
                                                        <%}%>
                                                     ">
                                    				   <%=html.LabelFor(field)%>
                                    				   <% int index = 0;%>
                                    				   <%foreach(var readOnlyfield in DataBag.ReadOnlyField ) { %>
                                    				  
                                    				        <%if(readOnlyfield == field) {%> 
                                        				        <span>
                                        				            <a data-toggle="tooltip" data-placement="top" 
                                                                        title="<%=DataBag.HelpText[index]%>" 
                                                                        class="red-tooltip"><span class="fieldHelp glyphicon glyphicon-question-sign"/>
                                                                    </a>
                                                                </span>
                                    				        <%}%>
                                    				        <%index = index+1;%>
                                    				    <%}%>
                                    				</label>
                                    				<div class="col-md-6 col-sm-9">
                                                        <% if (DataBag.IsEditable==false){%>
                                                            <% if (field == "Client__c" && !String.IsNullOrEmpty(DataBag.strClientId)){%>
                                                                <a href="/<%=DataBag.lstServicePlanObj[0].Client__c%>">
                                                                    <span><%=html.DisplayTextFor(field)%></span>
                                                                </a>
                                                            <%}else{%>
                                                                <%=html.DisplayTextFor(field)%>
                                                            <%}%>
                                                        <%}else{%>
                                                            <% if (field == "Staff_Member_Completing_ISP__c"){%>
                                                                <%=html.DisplayTextFor(field)%>
                                                            <%}else{%>
                                                                <%=html.DisplayEditorFor(field)%>
                                                            <%}%>
                                                        <%}%>
                                                    </div>
                                                </div>
                                            </div>
                                		<%} else{%>
                            		    <div class="col-md-12 col-sm-12 col-xs-12 WidenlenthFor-1-Column">
                            		     <div class="form-group form-group-0">
                            		     <!-- The if condition is specificed to apply the css if the label does not contain space to display in a proper format-->
                                            <label class="col-md-3 col-sm-3 control-label
                                            <% string strLabelOfServicePlan = html.LabelFor(field);
                                                          if(strLabelOfServicePlan.Contains(" ")){        
                                                        %>
                                                         
                                                        <%}else{%>
                                                        wordBreakClass
                                                        <%}%>
                                            ">
                            				   <%=html.LabelFor(field)%>
                            				   <% int index = 0;%>
                            				   <%foreach(var readOnlyfield in DataBag.ReadOnlyField ) { %>
                            				  
                            				        <%if(readOnlyfield == field) {%> 
                                				        <span>
                                				            <a data-toggle="tooltip" data-placement="top" 
                                                                title="<%=DataBag.HelpText[index]%>" 
                                                                class="red-tooltip"><span class="fieldHelp glyphicon glyphicon-question-sign"/>
                                                            </a>
                                                        </span>
                            				        <%}%>
                            				        <%index = index+1;%>
                            				    <%}%>
                            				</label>
                            				<div class="col-md-9 col-sm-9">
                                                <% if (DataBag.IsEditable==false){%>
                                                    <% if (field == "Client__c" && !String.IsNullOrEmpty(DataBag.strClientId)){%>
                                                        <a href="/<%=DataBag.lstServicePlanObj[0].Client__c%>">
                                                            <span><%=html.DisplayTextFor(field)%></span>
                                                        </a>
                                                    <%}else{%>
                                                        <%=html.DisplayTextFor(field)%>
                                                    <%}%>
                                                <%}else{%>
                                                    <% if (field == "Staff_Member_Completing_ISP__c"){%>
                                                        <%=html.DisplayTextFor(field)%>
                                                    <%}else{%>
                                                        <%=html.DisplayEditorFor(field)%>
                                                    <%}%>
                                                <%}%>
                                            </div>
                                        </div>
                                    </div>
                            		<% }%>
                                <% }%>
                                <% if(DataBag.BlankSpace == field){ %>
                                    <%-- No column in section to display if for 2 column and else for 1 column--%>
                                    <% if(htmlSection.DisplayTextFor("No_Of_Columns__c")=="2"){ %>
                            		   <div class="col-md-6 col-sm-12 col-xs-12">
                            		       <div class="form-group form-group-0" >
                                                <label class="col-md-4 col-sm-3 control-label">
                                				</label>
                                				<div class="col-md-8 col-sm-9">
                                                </div>
                                            </div>
                                        </div>
                                	<%} else{%>
                            		    <div class="col-md-12 col-sm-12 col-xs-12">
                                		      <div class="form-group form-group-0" >
                                                <label class="col-md-2 col-sm-3 control-label">
                                				</label>
                                				<div class="col-md-10 col-sm-9"></div>
                                              </div>
                                        </div>
                            		<% }%>
                                <% }%>
                            <%}%>
                            </div>    
                        </div>
                     <%counterServicePlan=counterServicePlan+1;%>
                    <% });%>
                <% }); %>
                <center>
                <% if (DataBag.IsEditable==false){%>
                    <% if (DataBag.IsStatusCompleted == false) {%>
                        <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="__doPostBack('EditServicePlan');"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</button>
                    <%}%>
                <%}else{%>
                    <% if (DataBag.IsStatusCompleted == false) {%>
                        <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="__doPostBack('SaveServicePlan');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save">&nbsp;Save</button>
                        <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="doRedirect();"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</button>
                    <%}%>
                <%}%>
                </center>
              </div>
            </div><br/>
            
            <!-------------------- Risk Assessment Section ------------------------------------->
            <div class="panel-group">
            <div class="panel borderofPanel">
              <div class="panel-heading"><span class="glyphicon glyphicon-th-large"></span>&nbsp;Risk Assessment</div>
                
                 <!-- Display informative message that no records are available, with a create button; if the list lstRiskAssessmentObj is empty  -->   
                <% if(DataBag.lstRiskAssessmentObj.Count == 0){%>
                    
                    <div class="panel-body">
                        
                        <!-- Informative message for no records present for Risk Assessment -->
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                        
                        <!-- 'Create' button to create a new Risk Assessment record -->
                        <div style="margin-top:14px">
                            <% if (DataBag.IsStatusCompleted == false) {%>
                                <center>
                                    <button type="button" class="btn backgroundForButton"  
                                            onclick="__doPostBack('CreateRiskAssesmentRecord');">
                                                
                                                <span class="glyphicon glyphicon-save">&nbsp;Create</span>
                                                    
                                    </button>
                                </center>
                            <%}%>
                        </div>
                    </div> 
                   
                <%}%>
                   
                <!-- Display remaining section if 'lstRiskAssessmentObj' contains a Risk Assessment record -->
                <% if(DataBag.lstRiskAssessmentObj.Count>0){%>
                    
                    <!-- Start of div to display Sections and Risk Assessment records -->
                    <div class="panel-body" id="RiskAssessmentSectionId">
                            <!-- Start of div that contains buttons to be displayed when the record is editable and non-editable -->   
                            <div  style="margin-bottom:14px">
                                <center>
                               
                                    <!-- Display 'Edit' button if in non-editable mode -->
                                    <% if (DataBag.isEditableForRiskAssesment==false){%>
                                            
                                            <% if (DataBag.IsStatusCompleted == false) {%>
                                                <button id="riskEditBtn1" type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="getTheLocationOftheButton(this);__doPostBack('EditRiskAssesment');">
                                                    
                                                    <span class="glyphicon glyphicon-pencil">&nbsp;Edit</span>
                                                                        
                                                </button>
                                            <%}%>
                                    
                                    <%}else{%>
                                    
                                        <% if (DataBag.IsStatusCompleted == false) {%>
                                            <!-- Display 'Save' and 'Cancel' buttons if in editable mode -->
                                            <button  id="riskSaveBtn1" type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="getTheLocationOftheButton($(this).parents('.panel-body'));__doPostBack('SaveRiskAssessment');showValidationErrorPopup();showCustomValidationErrorPopup();">
                                                
                                                <span class="glyphicon glyphicon-save">&nbsp;Save</span>
                                                
                                            </button>
                                            <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="doRedirect();">
                                            
                                                <span class="glyphicon glyphicon-remove">&nbsp;Cancel</span>
                                                
                                            </button>
                                        <%}%>
                                    <%}%>
                                </center>
                            </div>
                            <!-- End of div that contains buttons to be displayed when the record is editable and non-editable -->   
                    <%
                    Html.Repeat(DataBag.lstRiskAssessmentObj as IList, html => { %>
            		
                    
                        <% int counterRiskAssessment=0;%>
                        <%
                           
                             Html.Repeat(DataBag.lstOfRiskAssessmentSection as IList, htmlSection => { %>   
                            <div class="panel panelClass">                                                        
                                <div class="panel-headingInline" style="height: 35px;">
                                    <h4 class="panel-title" >
                                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapse<%=counterRiskAssessment%>" >
                                        <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                    </a>
                                    <%=htmlSection.DisplayTextFor("Title_Of_Section__c")%>
                                    </h4>
                                </div>
                            </div>
                            <br/>
                            
                            <!-- The if condition is specificed to show the section collapsiable or not depending on the checkbox on Service Plan Section 
                                  DataBag.isEditableForRiskAssesment: connditon is applied to display the section in non collapsiable format-->
                            <div id="collapse<%=counterRiskAssessment%>" class="section container-fluid panel-collapse collapse 
                                <% string strCollapseSec = htmlSection.DisplayTextFor("Collapse_Section__c");
                                  if(strCollapseSec.Contains("false") || DataBag.isEditableForRiskAssesment==true){        
                                %>
                                  in
                                <%}if(strCollapseSec.Contains("true") && DataBag.isEditableForRiskAssesment==false){%>
                                  Out
                                <%}%>
                             ">
                                <div id="body_ServicePlanPageId_ctl03_body" class="sectionBody row form-horizontal  form-2-cols ">
                                <%foreach(var field in DataBag.lstSectionsFieldsDataBagForRiskAssesment[counterRiskAssessment]) { %>
                                
                                    <% if(DataBag.BlankSpace != field){ %>
                                         <%-- No column in section to display if for 2 column and else for 1 column--%>
                                            <% if(htmlSection.DisplayTextFor("No_Of_Columns__c")=="2"){ %>
                                    		   <div class="col-md-6 col-sm-12 col-xs-12 WidenlenthFor-2-Column">
                                    		       <div class="form-group form-group-0" >
                                    		        <!-- The if condition is specificed to apply the css if the label does not contain space to display in a proper format-->
                                                        <label class="col-md-6 col-sm-3 control-label  
                                                        <% string strLabelOfServicePlan = html.LabelFor(field);
                                                              if(strLabelOfServicePlan.Contains(" ")){        
                                                            %>
                                                             
                                                            <%}else{%>
                                                            wordBreakClass
                                                            <%}%>
                                                         ">
                                        				   <%=html.LabelFor(field)%>
                                        				</label>
                                        				<div class="col-md-6 col-sm-9">
                                                            <% if (DataBag.isEditableForRiskAssesment==false){%>
                                                                <%=html.DisplayTextFor(field)%>
                                                            <%}else{%>
                                                                <%=html.DisplayEditorFor(field)%>
                                                             <%}%>
                                                        </div>
                                                    </div>
                                                </div>
                                    		<%} else{%>
                                		    <div class="col-md-12 col-sm-12 col-xs-12 WidenlenthFor-1-Column">
                                		     <div class="form-group form-group-0" >
                                		     <!-- The if condition is specificed to apply the css if the label does not contain space to display in a proper format-->
                                                <label class="col-md-3 col-sm-3 control-label
                                                <% string strLabelOfServicePlan = html.LabelFor(field);
                                                              if(strLabelOfServicePlan.Contains(" ")){        
                                                            %>
                                                             
                                                            <%}else{%>
                                                            wordBreakClass
                                                            <%}%>
                                                ">
                                				   <%=html.LabelFor(field)%>
                                				</label>
                                				<div class="col-md-9 col-sm-9">
                                                    <% if (DataBag.isEditableForRiskAssesment==false){%>
                                                        <%=html.DisplayTextFor(field)%>
                                                    <%}else{%>
                                                        <%=html.DisplayEditorFor(field)%>
                                                     <%}%>
                                                </div>
                                            </div>
                                        </div>
                                		<% }%>
                                    <% }%>
                                    <% if(DataBag.BlankSpace == field){ %>
                                        <%-- No column in section to display if for 2 column and else for 1 column--%>
                                        <% if(htmlSection.DisplayTextFor("No_Of_Columns__c")=="2"){ %>
                                		   <div class="col-md-6 col-sm-12 col-xs-12">
                                		       <div class="form-group form-group-0" >
                                                    <label class="col-md-4 col-sm-3 control-label">
                                    				</label>
                                    				<div class="col-md-8 col-sm-9">
                                                    </div>
                                                </div>
                                            </div>
                                    	<%} else{%>
                                		    <div class="col-md-12 col-sm-12 col-xs-12">
                                    		      <div class="form-group form-group-0" >
                                                    <label class="col-md-2 col-sm-3 control-label">
                                    				</label>
                                    				<div class="col-md-10 col-sm-9"></div>
                                                  </div>
                                            </div>
                                		<% }%>
                                    <% }%>
                                <%}%>
                                </div>    
                            </div>
                         <%counterRiskAssessment=counterRiskAssessment+1;%>
                        <% });%>
                    <% }); %>
                    <center>
                    <% if (DataBag.isEditableForRiskAssesment==false){%>
                        <% if ( DataBag.lstOfRiskAssessmentSection.Count > 0 && DataBag.IsStatusCompleted == false){%>
                            <button id="riskEditBtn" type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="getTheLocationOftheButton(this);__doPostBack('EditRiskAssesment');"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</button>
                        <%}%>
                    <%}else{%>
                        <% if (DataBag.IsStatusCompleted == false) {%>
                            <button  id="riskSaveBtn" type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="getTheLocationOftheButton($(this).parents('.panel-body'));__doPostBack('SaveRiskAssessment');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save">&nbsp;Save</button>
                            <button type="button" class="btn backgroundForButton" data-dismiss="modal" onclick="doRedirect();"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</button>
                        <%}%>
                    <%}%>
                    </center>
                  </div>
              
            <%}%>  
            <!---- End of If list contains a record--->  
            </div></div><!-- End of div for class="panel-group" for Risk Assisment -->
            
            <!--Display the Section for Service Goals and Objectives with the dynamic fields selected from the Object Configuration Page-->
            <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-th-list"></span>&nbsp;Service Outcomes and Goals</div>
            <div class="panel-body" id="ServiceGoalPanelId">
                
                <!-- Show the msg when records are not available-->
                <% if(Model.lstServiceModel.Count == 0){%>
                    <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                    <br/>
                <%}%>
                
                
                <!--filter would be display when service records are available to display otherwise filter should not be display-->
                <% if(Model.lstServiceModel.Count > 0) {%>
                
                <div class="col-md-12 col-sm-12 col-xs-12" style="padding-bottom:1%;">
                    
                    <% int counterForUniqueFunderName = 0;%>
                    
                    <div class="col-md-3 col-sm-3" style="text-align: right;">
                    <label for="sel1">Select Funder</label> 
                    </div>
                        
                        <div class="col-md-5 col-sm-5">
                        <select name="FunderForFilter" id="FunderForFilter" class="form-control" id="sel1">
                            
                            <%foreach(var funderIterator in DataBag.lstFunderOption){ %>
                                <option name="funderName" value=<%=funderIterator.funderValue%>  
                                      <%if(funderIterator.funderValue == DataBag.strFunderName) { %>
                                selected>
                                      <%}else {%>
                                >   
                                        <%}%>
                                    <%=funderIterator.funderName%>
                                </option>
                                <%counterForUniqueFunderName = counterForUniqueFunderName + 1;%>    
                            <%}%>
                            
                        </select> 
                        </div>
                        
                        <div class="col-md-4 col-sm-4">
                            <button id="FilterId" type="button" class="btn backgroundForService" onclick="getTheLocationOftheButton(this);__doPostBack('doFilterServices')"><span class="glyphicon glyphicon-filter">&nbsp;Filter</button>
                        </div>
                </div>
                
                <%}%> <!--End of if -->
                
                <!--Start This table is to show service related to service plan -->
                <% int serviceRecordIndex = 0;%>
                <% if(Model.lstServiceModel.Count > 0) {%>
                <!--Start for to display Service in editable/non editable format-->
                <%foreach(var ServiceModel in  Model.lstServiceModel) { %>
                
                    <!-- start of if Filter services -->
                    <%if(ServiceModel.lstService[0].Funder__c == DataBag.strFunderName || DataBag.strFunderName == "All") {%>
                
                        <%Html.Repeat(ServiceModel.lstService as IList, htmlServices => { %>
                           
                            <% if(serviceRecordIndex != 0){%>
                                <hr class="hrCustomClass"/>
                            <%}%>
                            
                            <div class="scrollBarCssForService">
                                <table class="table table-bordered">
                                    
                                    <!--Start of Service Table Header (Fields of Services-->
                                    <thead class="text-center backgroundForService">
                                        <tr>
                                            <% if (DataBag.IsStatusCompleted == false) {%>
                                                <th nowrap> 
                                                    Action
                                                </th>
                                            <%}%>
                                            <% if (DataBag.IsStatusCompleted == true && DataBag.isReEditableAfterCompleted == true) {%>
                                                <th nowrap> 
                                                    Action
                                                </th>
                                            <%}%>
                                            <!-- Print all fields(header) of Services available in 'Object Configuration' Object-->
                                            <%foreach(var field in  DataBag.ServiceFields) { %>   
                                                <th nowrap>          
                                                    <%=htmlServices.LabelFor(field)%>
                                                </th>
                                            <%}%>
                                            
                                        </tr>
                                    </thead>
                                    <!--End of Service Table Header -->
                                     
                                    <!--Start of Service records -->
                                    <tbody class="text-center">
                                        <tr>
                                            <% if (DataBag.IsStatusCompleted == false) {%>
                                                <td nowrap>
                                                
                                                      <!--Buttons to be displayed before edit and after edit-->
                                                      <%if(ServiceModel.isEditable==false) { %>
                                                        <a href="javascript:void(0)" name="<%=htmlServices.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setServiceIDValueForEdit(this);__doPostBack('EditServiceRecordRow');"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</a>
                                                      <%}else{%>
                                                        <a href="javascript:void(0)" name="<%=htmlServices.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setServiceIDValueForEdit(this);__doPostBack('SaveServiceRecordRow');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save">&nbsp;Save</a>
                                                        |
                                                        <a href="javascript:void(0)" name="<%=htmlServices.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setServiceIDValueForEdit(this);__doPostBack('CancelServiceRecordRow');"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</a>
                                                      <%}%>
                                                      
                                                </td>
                                            <%}%>
                                            <% if (DataBag.IsStatusCompleted == true && DataBag.isReEditableAfterCompleted == true) {%>
                                                <td nowrap>
                                                
                                                      <!--Buttons to be displayed before edit and after edit-->
                                                      <%if(ServiceModel.isEditable==false) { %>
                                                        <a href="javascript:void(0)" name="<%=htmlServices.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setServiceIDValueForEdit(this);__doPostBack('EditServiceRecordRow');"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</a>
                                                      <%}else{%>
                                                        <a href="javascript:void(0)" name="<%=htmlServices.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setServiceIDValueForEdit(this);__doPostBack('CaptureServiceRecordAfterCompleted');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save">&nbsp;Save</a>
                                                        |
                                                        <a href="javascript:void(0)" name="<%=htmlServices.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setServiceIDValueForEdit(this);__doPostBack('CancelServiceRecordRow');"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</a>
                                                      <%}%>
                                                      
                                                </td>
                                            <%}%>
                                            <!-- Print all Records of Services related to current Service Plan-->
                                            <%foreach(var field in  DataBag.ServiceFields) { %>   
                                                <td nowrap> 
                                                
                                                    <!--Display Service in editable format if editable else non editable-->
                                                    <%if(ServiceModel.isEditable==false || field == "Name") { %>
                                                        <%=htmlServices.DisplayTextFor(field)%>
                                                    <%}else{%>
                                                        <%=htmlServices.DisplayEditorFor(field)%>
                                                    <%}%>
                                   
                                                </td>
                                            <%}%>
                                            
                                        </tr>      
                                    </tbody> 
                                    <!--End of Service records -->
                                    
                                </table>
                            </div>
                                
                            <!--Start This table is to show Goals related to service -->
                            
                            <!-- If Goal is related to service then display it with header -->
                            <div class="scrollBarCssForGoal">
                                <table class="table table-bordered" >   
                                    <!-- int counterForGoals to compare Id(Lookup) of each Goal with Service's Id -->
                                    <%  int counterForGoals = 0; %>
                                    <% int headerGoals = 0; %>
                                    <% Boolean DisplayExistingGoal = false; %>
                                    <%foreach(var GoalModel in  Model.lstGoalModel) { %>
                                    
                                        <%Html.Repeat(GoalModel.lstGoals as IList, htmlGoal => { %>
                                        
                                            <!-- Check if the Goal is related to particular Service(Comparing Id) -->
                            				<%if( Model.lstGoalModel[counterForGoals].lstGoals[0].Service__c==htmlServices.DisplayTextFor("Id")){%>	
                                            
                                            <%if(headerGoals==0){%> 
                                                <!-- Start of Goal Table Header -->
                                                <thead class="text-center backgroundForGoal">
                                                    <tr>
                                                        <%if(DataBag.IsStatusInProgress == true) { %>
                                                            <th nowrap> 
                                                                Action
                                                            </th>
                                                        <%}%>
                                                        <%if(DataBag.IsStatusCompleted == true && DataBag.isReEditableAfterCompleted == true) { %>
                                                            <th nowrap> 
                                                                Action
                                                            </th>
                                                        <%}%>
                                                        <!-- Print all fields(header) of Goals available in 'Object Configuration' Object-->
                                                        <%foreach(var fieldGoal in  DataBag.GoalFields) { %>   
                                                    		<th nowrap>          
                                                    			<%=htmlGoal.LabelFor(fieldGoal)%>
                                                        	</th>                        
                                                    	<%}%>
                                                    	
                                                    </tr>
                                                </thead>
                                                <!-- End of Goal Table Header -->
                                            <%  
            									headerGoals=1;
            								}%> 
            
                                            <tr>
                                                <%if(DataBag.IsStatusInProgress == true) { %>
                                                    <td nowrap>
                                                        <!--Buttons to be displayed before edit and after edit-->
                                                        <%if(GoalModel.isEditable==false) { %>
                                                            <a href="javascript:void(0)" name="<%=htmlGoal.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setGoalIDValueForEdit(this);__doPostBack('EditGoalRecordRow');"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</a>
                                                        <%}else{%>
                                                            <a href="javascript:void(0)" name="<%=htmlGoal.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setGoalIDValueForEdit(this);__doPostBack('SaveGoalRecordRow');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save">&nbsp;Save</a>
                                                            |
                                                            <a href="javascript:void(0)" name="<%=htmlGoal.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setGoalIDValueForEdit(this);__doPostBack('CancelGoalRecordRow');"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</a>
                                                        <%}%>
                                                    </td>
                                                <%}%>
                                                <%if(DataBag.IsStatusCompleted == true && DataBag.isReEditableAfterCompleted == true) { %>
                                                    <td nowrap>
                                                        <!--Buttons to be displayed before edit and after edit-->
                                                        <%if(GoalModel.isEditable==false) { %>
                                                            <a href="javascript:void(0)" name="<%=htmlGoal.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setGoalIDValueForEdit(this);__doPostBack('EditGoalRecordRow');"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</a>
                                                        <%}else{%>
                                                            <a href="javascript:void(0)" name="<%=htmlGoal.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setGoalIDValueForEdit(this);__doPostBack('CaptureGoalRecordAfterCompleted');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save">&nbsp;Save</a>
                                                            |
                                                            <a href="javascript:void(0)" name="<%=htmlGoal.DisplayTextFor("Id")%>" onclick="getTheLocationOftheButton(this);setGoalIDValueForEdit(this);__doPostBack('CancelGoalRecordRow');"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</a>
                                                        <%}%>
                                                    </td>
                                                <%}%>
                                                <!-- Print all Records of Goals related to current Service Plan-->
                                        	    <%foreach(var fieldGoal in  DataBag.GoalFields) { %>   
                                        	        <%DisplayExistingGoal = true;%>
                                                    <td nowrap>          
                                                        <!--Display Service in editable format if editable else non editable-->
                                                        <%if(GoalModel.isEditable==false) { %>
                                                            <%=htmlGoal.DisplayTextFor(fieldGoal)%>
                                                        <%}else{%>
                                                            <%=htmlGoal.DisplayEditorFor(fieldGoal)%>
                                                        <%}%>
                                                    </td>
                                        		<%}%>
                                        		
                                            </tr>
                                                
                                            <%}%>    
                                            <!-- End of If of Goals-->
                                            
                                	    <% }); %>
                                	    <%counterForGoals=counterForGoals+1; %>
                            	    <% } %>
                            	    <!-- End of Repeat of Goal -->
                                    <!--End This table is to show Goals related to service -->    
                                    
                                    <!--start of Add more Goal sections when existng goals are present-->
                                    <% if(htmlServices.DisplayTextFor("Id") == DataBag.serviceIdForNewGoal && DisplayExistingGoal == true) { %>
                    				    <% int RowCount=0; %>
                                        <% Html.Repeat(DataBag.lstNewGoal as IList, htmlNewGoal => { %>
                                        	<!--Start of goal records -->  
                                    		<tr>
                                    		    <%if(DataBag.IsStatusInProgress == true) { %>
                                        		    <td nowrap>
                                        		    </td>
                                        		<%}%>
                                    			<%foreach(var field in DataBag.GoalFields) { %>
                                    				<td>
                                    					<%=htmlNewGoal.DisplayEditorFor(field)%>
                                    				</td>               
                                    			<%}%>
                                    			<% RowCount=RowCount+1; %>
                                    		</tr>
                                        <% }); %> 
                                    <%}%>
                                    <!--End of Add more Goal sections when existng goals are present-->
                                     
                            	    </tbody> 
                                    <!--End of Goal records -->
                                    
                                </table>
                            </div>
                            
                            <% if(htmlServices.DisplayTextFor("Id") != DataBag.serviceIdForNewGoal && DataBag.IsStatusCompleted == false) { %>
                    	        <div>
                            	    <!-- objectiveID custom tag created only used to store objective id which can not store in name attribute command button-->  
                            	    <button id="GoalBtn<%=serviceRecordIndex%>" 
                            	            type="button" 
                            	            class="btn backgroundForButton"
                            	            name='<%=htmlServices.DisplayTextFor("Id")%>'
                            	            onclick="setServiceIDValue(this);getTheLocationOftheButton(this);__doPostBack('AddGoalRowToList',{ validate:false});">
                            	            <span class="glyphicon glyphicon-plus-sign"></span>
                            	            Add Goals
                            	    </button>
                        	    </div>
                            <%}%>  
                            
                            <!--start of Add more Goal sections when goals are not present-->
                            <% if(htmlServices.DisplayTextFor("Id") == DataBag.serviceIdForNewGoal && DisplayExistingGoal == false) { %>
                            
                                <!--Start This table is to show new Goal record row -->
                                <div class="scrollBarCssForGoal">
                                	<table class="table table-bordered" >
                                		<tbody class="text-center">   
                                			 <% int RowCount=0; 
                                			 int headerNewGoal = 0; %>
                                			 <% Html.Repeat(DataBag.lstNewGoal as IList, htmlNewGoal => { %>
                                				 <!-- Start of Goal Table Header -->
                                				 
                                				<!--Set one variable to display header of Goal only once -->
                                				<%if(headerNewGoal==0){%>
                                				<thead class="text-center backgroundForGoal">
                                					<tr>
                                						
                                						<!-- Print all fields(header) of Goal for available fields-->
                                						<%foreach(var fieldGoal in  DataBag.GoalFields) { %>   
                                							<th nowrap>          
                                								<%=htmlNewGoal.LabelFor(fieldGoal)%>
                                							</th>                        
                                						<%}%>
                                						
                                					</tr>
                                				</thead>
                                				<!-- End of Goal Table Header -->
                                				<%  
                                					headerNewGoal=1;
                                				}%> 
                                				 <!--Start of Goal records -->                                        
                                					<tr>
                                						<%foreach(var field in DataBag.GoalFields) { %>
                                							<td>
                                								<%=htmlNewGoal.DisplayEditorFor(field)%>
                                							</td>               
                                						<%}%>
                                						<% RowCount=RowCount+1; %>
                                					</tr>
                                			 <% }); %> 
                                	   </tbody> 
                                   </table>
                                   <!--End This table is to show new Goal record row -->
                                </div>
                            
                            <%}%>    
                            <!-- End of If of Goals-->
                            
                            <% if(htmlServices.DisplayTextFor("Id") == DataBag.serviceIdForNewGoal) { %>
                                <div >
                                	<button id="AddMoreGoalbtn" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('AddMoreGoalsRowToList',{ validate:false});"><span class="glyphicon glyphicon-plus-sign"></span>Add More Rows</button>
                                
                                	<button id="RemoveGoalbtn" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('RemoveGoalRowToList',{ validate:false});"><span class="glyphicon glyphicon-remove-sign"></span>Remove Row</button>
                                
                                	<button id="SaveGoalbtn" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('SaveGoals');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>Save</button> 
                                	
                                	<button id="cancelGoalbtn" type="button" class="btn backgroundForButton" onclick="doRedirectOnCancel();"><span class="glyphicon glyphicon-remove"></span>Cancel</button>
                                </div><br/>
                            <%}%>
                            
                            <%serviceRecordIndex = serviceRecordIndex+1; %>
                            
                        <% }); %>
                        
                        <% } %> <!--End of if Filter Services-->
                         
                    <% } %>
                <% } %>
                <!--End for to display Service in editable/non editable format-->
                    
        </div></div><br/>
        <!-- End of Repeat of Services -->
        <!--End This table is to show service related to service plan -->
        
        <!--Display the Section for Rich Text Area which is configured from the Object Setup Page-->
	    <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-cog"></span>&nbsp;
                <aspx:Field id='ClientServiceIdTitle' runat='server' Value='{!Model.objConfigSetup.Clients_Rights_and_Consent_Title__c}'/>
            </div>
            <div class="panel-body">
                <aspx:Field id='ClientServiceId' runat='server' Value='{!Model.objConfigSetup.Clients_Rights_and_Consent__c}'/>
                
                    <%if(CustomLabels.ISP_RoleForStaffSignatures.Equals(UserInfo.Role.Name)){ %>
                        <% Html.Repeat(DataBag.lstServicePlanObj as IList, servicePlanConditionObj => { %>
                            
                                <%foreach(var field in  DataBag.lstServicePlanClientConsentFields) { %>
                                    <ul><li>
                                         <b>
                                         <%if(field=="Terms_And_Conditions__c") {%>
                                            <%:CustomLabels.Permission_to_communicate_and_send_information%>
                                            <% if (DataBag.IsStatusCompleted == false) {%>
                                                <span><a data-toggle="tooltip" data-placement="top" 
                                                title="If you agree to send information (i.e., phone conversations, progress reports, medical information) then check the checkbox otherwise uncheck it." 
                                                class="red-tooltip"><span class="fieldHelp glyphicon glyphicon-question-sign"/></a></span>
                                            <%}%>
                                         <%}%>
                                         <%if(field=="Client_Guardian_Phone__c") {%>
                                            <%:CustomLabels.Permission_to_text_message%>
                                         <%}%>
                    			         <% if (DataBag.IsStatusCompleted == false) {%>
                    			            <%=servicePlanConditionObj.DisplayEditorFor(field)%>
                    			         <%}else{%>
                                            <%=servicePlanConditionObj.DisplayTextFor(field)%>
                                         <%}%>
                                         </b>
                                    </li></ul>
                                <%}%> 
                           
                        <% }); %>
                        
                        <% if (DataBag.IsStatusCompleted == false) {%>
                            <center>
                                <button type="button" id="saveConsentId" class="btn backgroundForMainButton" onclick="getTheLocationOftheButton(this);__doPostBack('saveClientConsentInformation');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save</button>
                            </center>
                        <%}%> 
                        
                    <%}%> 
                    <%if(CustomLabels.ISP_RoleForAdminSignatures.Equals(UserInfo.Role.Name)
                         || CustomLabels.ISP_RoleForClientSignatures.Equals(UserInfo.Role.Name)
                         || CustomLabels.ISP_RoleForSupervisorSignatures.Equals(UserInfo.Role.Name)){ %>
                         
                        <% Html.Repeat(DataBag.lstServicePlanObj as IList, servicePlanConditionObj => { %>
                            <%foreach(var field in  DataBag.lstServicePlanClientConsentFields) { %>
                                <ul><li>
                                     <b>
                                     <%if(field=="Terms_And_Conditions__c") {%>
                                        <%:CustomLabels.Permission_to_communicate_and_send_information%>
                                        
                                     <%}%>
                                     <%if(field=="Client_Guardian_Phone__c") {%>
                                        <%:CustomLabels.Permission_to_text_message%>
                                     <%}%>
                			
                                     <%=servicePlanConditionObj.DisplayTextFor(field)%>
                                    </b>
                                </li></ul>
                            <%}%> 
                        <% }); %>
                    <%}%>  
            </div>
        </div><br/>
	    <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-cog"></span>&nbsp;
                <aspx:Field id='ClientIdTitle' runat='server' Value='{!Model.objConfigSetup.Client_Responsibilities_Title__c}'/>
            </div>
            <div class="panel-body">
                <aspx:Field id='ClientId' runat='server' Value='{!Model.objConfigSetup.Client_Responsibilities__c}'/>
            </div>
        </div><br/>
         <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-cog"></span>&nbsp;
                <aspx:Field id='ClinicaleIdTitle' runat='server' Value='{!Model.objConfigSetup.Clinical_Therapy_Service_Agreement_Title__c}'/>
            </div>
            <div class="panel-body">
                    <aspx:Field id='ClinicaleId' runat='server' Value='{!Model.objConfigSetup.Clinical_Therapy_Service_Agreement__c}'/>
            </div>
        </div>
        <br/>
        
        <!------------------------------------------Start of Service Agreement Plan Section ---------------------------------------------->
        <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-cog"></span>&nbsp;
               SERVICE AGREEMENT
            </div>
                 <!-- Display informative message that no records are available,if the list lstOfServicePlanAgreementSection is empty  -->   
                <% if(DataBag.lstOfServicePlanAgreementSection.Count == 0){%>
                    
                    <div class="panel-body">
                        
                        <!-- Informative message for no records present for SERVICE AGREEMENT Section -->
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                    </div>
                <%}%>
                
                <!-- Display remaining section if 'lstOfServicePlanAgreementSection' contains a Service Agreement Plan record -->
                <% if(DataBag.lstOfServicePlanAgreementSection.Count>0){%>
                    <!-- Start of div to display Sections and Service Agreement Plan  records -->
                    <div class="panel-body">
                    <% int counterServiceAgreement=0;%>
                    <%
                    Html.Repeat(DataBag.lstOfServicePlanAgreementSection as IList, html => { %>
                    
                            <!---------Display the Service Agreement Sub-Section Header----------------->
                            <div class="panel panelClass" id="panelParentServiceAgreementSectionId<%=counterServiceAgreement%>">                                                        
                                <div class="panel-headingInline" style="height: 35px;" id="panelDivId<%=counterServiceAgreement%>">
                                    <h4 class="panel-title" >
                                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseSA<%=counterServiceAgreement%>" >
                                        <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                    </a>
                                       <!----------------------Display the Title of  Service Agreement  Section ------------------------->
                                        <%=html.DisplayTextFor("Title_Of_Section__c")%>
                                        <!---- Start of Input Checkbox for NA to display if unchecked in Print Functionality------->
                                        <customNACheckBox style="float: right;">
                                                    N/A
                                                    <input  onchange="setServiceAgreementHideShowCollapsible(this)" data-target="#collapseSA<%=counterServiceAgreement%>" type="checkbox" name="serviceAgreementSectionName" id="serviceAgreementSectionId<%=counterServiceAgreement%>"  class="serviceAgreementSection" />
                                        </customNACheckBox>
                                    </h4>
                                </div>
                            </div>
                            <br/>
                            <!---------End Of Display the Service Agreement Sub-Section Header----------------->
                            
                            <!-- The if condition is specificed to show the section collapsiable or not depending on the checkbox on Service Agreement Section-->
                            <div id="collapseSA<%=counterServiceAgreement%>" class="section container-fluid panel-collapse collapse 
                                <% string strCollapseSec = html.DisplayTextFor("Collapse_Section__c");
                                  if(strCollapseSec.Contains("false") ){        
                                %>
                                  in
                                <%}if(strCollapseSec.Contains("true")){%>
                                  Out
                                <%}%>
                             ">
                             
                            <!----------------------Display the Service Agreement Rich Text Section ------------------------->
                            
                                <div id="body_ServicePlanPageId_ctl03_body" class="sectionBody row form-horizontal  form-2-cols ">
                        		   <div class="col-md-12 col-sm-12 col-xs-12">
                        		       <div class="form-group form-group-0" >
                            				<div class="col-md-12">                                                            
                                                 <%=html.DisplayTextFor("Section_Content__c")%>
                                            </div>
                                        </div>
                                    </div>
                                </div>    
                            </div>
                            
                            <%counterServiceAgreement=counterServiceAgreement+1;%>
                            
                        <% });%>
                        
                  </div>
                   <!--- Hidden Field to Store the Count of the Service Agreement Records---->
                  <input id="counterServiceAgreementId" type="hidden" value="<%=DataBag.lstOfServicePlanAgreementSection.Count%>" /> 
                <%}%>  
        </div>
        <br/>
        <!------------------------------------------End of Service Agreement Plan Section ---------------------------------------------->
        
     <!-----------------------------------------START OF ADMIN SIGNATURE SECTION ----------------------------------------->

     <%if(CustomLabels.ISP_RoleForAdminSignatures.Equals(UserInfo.Role.Name) ){ %>
        
        <!-- To Display Signature Sections of the service plan Record -->
        <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-pencil"></span>&nbsp;Signature</div>
            <div class="panel-body" >
                <!-----------------Show the Existing Signature For Client/Family and Staff ----------------------->
                <div class="panel panelClass">                                                        
                    <div class="panel-headingInline" style="height: 35px;">
                        <h4 class="panel-title" >
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOnewe" >
                            <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                        </a>
                            Existing Signatures
                        </h4>
                    </div>
                </div>
                <br/>
                
                <!-- Collapsible existing signature section-->
                <div id="collapseOnewe" class="section container-fluid panel-collapse collapse in">
                     
                     <p><b>Client/Family Signature (<%=DataBag.lstFamilySignature.Count%>) </b></p>
                     
                     <!-- Display message if no family records to display -->
                     <% if(DataBag.lstFamilySignature.Count == 0){%>
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                     <%}%>
                     
                     <div Class="signatureScrollCss">
                     
                        <!-- Start Display existing Family signature section-->
                         <% int RecordIndexCountForExistingFamilySign=-1;%>
                         
                		 <% Html.Repeat(DataBag.lstFamilySignature  as IList, htmlExistingFamilySignDiv => { %>
        		            <% RecordIndexCountForExistingFamilySign = RecordIndexCountForExistingFamilySign+1; %> 
            			    <div id="ExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>">
                			    
                			    <div id="ExistingfamilySig<%=RecordIndexCountForExistingFamilySign%>" style="pointer-events: none;background-color: #EFEFEF;"></div><br/>
                                
                                <!--Hidden field to display value of family signature -->
                                <input type='hidden' id="SaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                    name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                    value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                <!-- Display name and date for family signature area --->
                               
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-3 col-md-3">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("User_Role_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div> 
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signed_Date__c")%></b>
                                    </div>
                                    
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div>
                                </div>
                                <div class="row"> 
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                    </div>
                                    <div class="col-xs-3 col-md-3">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("User_Role_Name__c")%>
                                    </div> 
                                    <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                    </div> 
                                    <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signed_Date__c")%>
                                    </div>
                                   
                                    <div class="col-xs-2 col-md-2" id="resignBtn<%=RecordIndexCountForExistingFamilySign%>">
                                       <a style="cursor: pointer;" onclick="ReAssignSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Re-Sign</a>
                                    </div>
                                </div>
                		      </div>
                		      
                		      <!------------------------- Start Of Re-Sign Signature ---------------------------------------------------->
                		      <div id="DuplicateExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>" style="display:none">
                			    <div id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>"></div>
                			    <p style="clear: both;"><input type="button" class="DuplicateSigClearButtonClass" id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" DupAssosiatDivId="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" value="Clear"/>
                                <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                
                                <!--Hidden field to get value of family signature -->
                                <input  type='hidden'  RecordContextId="<%=htmlExistingFamilySignDiv.DisplayTextFor("Id")%>" id="DuplicateSaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>" />
                                
                                <!-- Display name and date for family signature area --->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-2 col-md-2">
                                       <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div>
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div> 
                                </div>
                                <div class="row"> 
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                   </div>
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                   </div>
                                   
                                   <div class="col-xs-2 col-md-2">
                                       <a id="saveResignAdminId" style="cursor: pointer;" onclick="getTheLocationOftheButton(this);SaveSignature('Family','<%=RecordIndexCountForExistingFamilySign%>');showValidationErrorPopup();showCustomValidationErrorPopup();">Save</a> |
                                       <a style="cursor: pointer;" onclick="CancelSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Cancel</a>
                                   </div>
                                </div>
                                 <br>
                		      </div>
                		      <br/>
                		      <hr/>
                		     <!------------------------- End Of Re-Sign Signature ---------------------------------------------------->
                		     
                		     <% }); %>
                		      <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="resignedRecordIdVal" name="resignedRecordId" 
                        		        value="">
                        	  <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="updatedSignatureVal" name="updatedSignatureValName" 
                        		        value="">  
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="ExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="DuplicateExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		    
                     </div>
                     <!-- End Display existing Family signature section-->
                     <hr class="hrCustomClass"/>
                        <!-- Start Display existing Staff signature section-->
                         <p><b>Staff Signature (<%=DataBag.lstStaffSignature.Count%>) </b></p>
                         
                         <% if(DataBag.lstStaffSignature.Count == 0){%>
                            <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                         <%}%>
                         
                         <div Class="signatureScrollCss">
                         
                             <% int RecordIndexCountForExistingStaffSign=-1;%>
                             
                    		 <% Html.Repeat(DataBag.lstStaffSignature  as IList, htmlExistingStaffSignDiv => { %>
            		            <% RecordIndexCountForExistingStaffSign = RecordIndexCountForExistingStaffSign+1; %> 
            		            <div id="ExistingStaffSignature<%=RecordIndexCountForExistingStaffSign%>">
        		            
                			    <div id="ExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" style="pointer-events: none;background-color: #EFEFEF;"></div><br/>
                                
                                <!--Hidden field to display value of staff signature -->
                                <input type='hidden' id="SaveStaffSignId<%=RecordIndexCountForExistingStaffSign%>" 
                                                    name="StaffSignToDisplay<%=RecordIndexCountForExistingStaffSign%>" 
                                                    value="<%=htmlExistingStaffSignDiv.DisplayTextFor("Signature__c")%>">
                                
                                <!-- Display name and date for staff signature area --->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingStaffSignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-2 col-md-3">
                                        <b><%=htmlExistingStaffSignDiv.LabelFor("User_Role_Name__c")%></b>
                                    </div>
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingStaffSignDiv.LabelFor("Signed_Date__c")%></b>
                                    </div>
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div>
                                </div>
                                <div class="row"> 
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingStaffSignDiv.DisplayTextFor("Signee_Name__c")%>
                                    </div>
                                    <div class="col-xs-2 col-md-3">
                                       <%=htmlExistingStaffSignDiv.DisplayTextFor("User_Role_Name__c")%>
                                    </div>
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingStaffSignDiv.DisplayTextFor("Signed_Date__c")%>
                                    </div>
                                    <div class="col-xs-2 col-md-2" id="resignStaffBtn<%=RecordIndexCountForExistingStaffSign%>">
                                       <a style="cursor: pointer;" onclick="ReAssignSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>')">Re-Sign</a>
                                    </div>
                                </div>
                            </div>
                            
                            <!------------------------- Start Of Staff Re-Sign Signature ---------------------------------------------------->
                		    <div id="DuplicateExistingStaffSignature<%=RecordIndexCountForExistingStaffSign%>" style="display:none">
                			    <div id="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>"></div>
                			    <p style="clear: both;"><input type="button" class="DuplicateStaffSigClearButtonClass" id="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" DupAssosiatStaffDivId="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" value="Clear"/>
                                <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                
                                <!--Hidden field to get value of Staff signature -->
                                <input  type='hidden'  RecordStaffContextId="<%=htmlExistingStaffSignDiv.DisplayTextFor("Id")%>" id="DuplicateSaveStaffSignId<%=RecordIndexCountForExistingStaffSign%>" 
                                                name="StaffSignToDisplay<%=RecordIndexCountForExistingStaffSign%>" 
                                                value="<%=htmlExistingStaffSignDiv.DisplayTextFor("Signature__c")%>" />
                                
                                <!-- Display name and date for staff signature area --->
                                <div class="row">  
                                    <div class="col-xs-4 col-md-4">
                                        <b><%=htmlExistingStaffSignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-3 col-md-3">
                                        <b>Action</b>
                                    </div> 
                                </div>
                                <div class="row"> 
                                   <div class="col-xs-4 col-md-4">
                                       <%=htmlExistingStaffSignDiv.DisplayTextFor("Signee_Name__c")%>
                                   </div>
                                   <div class="col-xs-3 col-md-3">
                                       <a style="cursor: pointer;" onclick="getTheLocationOftheButton(this);SaveSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>');">Save</a> |
                                       <a style="cursor: pointer;" onclick="CancelSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>')">Cancel</a>
                                   </div>
                                </div>
                                 <br>
                		    </div>
                		  <br/>
                		  <hr/>
                		  <!------------------------- End Of Staff Re-Sign Signature ---------------------------------------------------->
                            
            		    <% }); %>
            		 
                		 <!--Hidden field to display count of Staff signature -->
                		 <input type='hidden' id="ExistingCountOfStaffSignId" name="ExistingRowCountofStaffSign" 
            		        value="<%=RecordIndexCountForExistingStaffSign%>">
        		         <!--Hidden field to store the Record Id Value of the Re-Signed staff Record -->
                         <input type='hidden' id="resignedStaffRecordIdVal" name="resignedStaffRecordId" value="">
                    		        
                    	 <!--Hidden field to store the Record Id Value of the Re-Signed staff Record -->
                    	 <input type='hidden' id="updatedStaffSignatureVal" name="updatedStaffSignatureValName" value="">  
                    		        
            		     <!--Hidden field to display count of staff signature -->
                    	 <input type='hidden' id="DuplicateExistingCountOfStaffSignId" name="ExistingRowCountofStaffSign" 
                    		 value="<%=RecordIndexCountForExistingStaffSign%>">
                		  </div>
                		 <!-- End Display existing Staff signature section-->
                </div>
                <!-- collapsible existing signature section-->
                
                <!-- Start of collapsible New signature section-->
                    <% if (DataBag.IsStatusCompleted == false) {%>         
                        <div class="panel panelClass">                                                        
                            <div class="panel-headingInline" style="height: 35px;">
                                <h4 class="panel-title" >
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseNewFamily" >
                                    <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                </a>
                                    New Family Signature
                                </h4>
                            </div>
                        </div>
                        <br/>
                        
                        <div id="collapseNewFamily" class="section container-fluid panel-collapse collapse in">
                                    <p><b>Client/Family Signature</b></p>
                                 <!--Start of section to show new Family signature div -->
                                 <div>
                            		 <% int RecordIndexCountForFamilySign=-1;%>
                            		 <% Html.Repeat(DataBag.lstNewFamilySignature as IList, htmlNewFamilySignDiv => { %>
                    		            <% RecordIndexCountForFamilySign=RecordIndexCountForFamilySign+1; %> 
                        			    <div id="familySig<%=RecordIndexCountForFamilySign%>"></div>
                        			    <p style="clear: both;"><input type="button" class="SigClearButtonClass" id="clearFamily<%=RecordIndexCountForFamilySign%>" AssosiatDivId="familySig<%=RecordIndexCountForFamilySign%>" value="Clear"/>
                                        <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                        
                                        <!--Hidden field to get value of family signature -->
                                        <input type='hidden' id="getFamilySignId<%=RecordIndexCountForFamilySign%>" 
                                                    name="FamilySignToSave<%=RecordIndexCountForFamilySign%>" 
                                                    value="<%=htmlNewFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                        
                                        <!-- Display name and date for family signature area --->
                                        
                                        <div class="row">  
                                            <div class="col-xs-3 col-md-3">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                            </div> 
                                            <!-------------------------------Start Of Relationship Section -------------->
                                            <div class="col-xs-3 col-md-2">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                            </div>
                                             <!-------------------------------End Of Relationship Section -------------->
                                        </div>
                                        <div class="row"> 
                                           <div class="col-xs-3 col-md-3" style="margin-bottom: 1.5%;">
                                               <%=htmlNewFamilySignDiv.DisplayEditorFor("Signee_Name__c")%>
                                           </div>
                                           <!-------------------------------Start Of Relationship Section -------------->
                                           <div class="col-xs-3 col-md-2" style="margin-bottom: 1.5%;">
                                                <%=htmlNewFamilySignDiv.DisplayEditorFor("Relationship_Type__c")%>
                                            </div>
                                             <!-------------------------------End Of Relationship Section -------------->
                                        </div>
                                       
                            		 <% }); %>
                            		 
                            		 <input type='hidden' id="CountOfFamilySignId" name="RowCountofFamilySign" value="<%=RecordIndexCountForFamilySign%>">
                                 </div>
                                 <!--End of section to show new Family signature div  -->
                                 
                                 <div class="row">
                                    <div class="col-md-12" id="saveSignDiv">
                                		<button id="AddFamilySignId" type="button" class="btn backgroundForButton" onclick="setValueToSignTextField(this);getTheLocationOftheButton(this);__doPostBack('AddFamilySignatureRowToList');"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Add</button>
                                		<%if(DataBag.lstNewFamilySignature.Count > 0){%> 
                                    		<button id="RemoveFamilySignId" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('RemoveFamilySignatureRowToList');"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Remove</button>
                                    		<button id="CancelFamilySignId" type="button" class="btn backgroundForButton" onclick="doRedirectOnCancel();"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Cancel</button>
                                	    <%}%> 
                                	    
                                	</div> 
                        	    </div><br/>
                	    </div>
                        <!-- End of collapsible New Client Signature section-->
                    <%}%> 
                    
                    <!-- When user logged through as Admin should be able to see Supervisor Signature Section in read only format-->
                     <%
                        Html.Repeat(DataBag.lstServicePlanObj as IList, htmlServicePlanObj => { %>
                            
                                <div class="panel panelClass">                                                        
                                    <div class="panel-headingInline" style="height: 35px;">
                                        <h4 class="panel-title" >
                                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwowe" >
                                            <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                        </a>
                                        Supervisor Signature Section
                                        </h4>
                                    </div>
                                </div><br/>
                                <% if(htmlServicePlanObj.DisplayTextFor("Supervisor_Signature__c") == ""){%>
                                    <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                                <%}%>
                                <%else{%> 
    				            <div id="SupervisorSig" style="pointer-events: none;background-color: #EFEFEF;"></div>
    				            
    				            <!-- Display name and date for supervisor signature area --->
                                <div class="row">  
                                    <div class="col-md-2">
                                        <b><%=htmlServicePlanObj.LabelFor("Supervisor_Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-md-2" style="margin-left: 3.5%;">
                                        <b><%=htmlServicePlanObj.LabelFor("Supervisor_Role_Name__c")%></b>
                                    </div> 
                                    <div class="col-md-2" style="margin-left: 3.5%;">
                                        <b><%=htmlServicePlanObj.LabelFor("Supervisor_Signed_Date__c")%></b>
                                    </div>
                                </div>
                                <div class="row"> 
                                   <div class="col-md-2">
                                       <%=htmlServicePlanObj.DisplayTextFor("Supervisor_Signee_Name__c")%>
                                   </div>
                                   <div class="col-md-2" style="margin-left: 3.5%;">
                                       <%=htmlServicePlanObj.DisplayTextFor("Supervisor_Role_Name__c")%>
                                   </div>
                                   <div class="col-md-2" style="margin-left: 3.5%;">
                                       <%=htmlServicePlanObj.DisplayTextFor("Supervisor_Signed_Date__c")%>
                                   </div>
                                </div>
                                
                                <%}%>   
                    <% }); %>
           </div>
           
           <% if (DataBag.IsStatusCompleted == false) {%>
               <center>
                    <%if(DataBag.lstNewStaffSignature.Count > 0 || DataBag.lstNewFamilySignature.Count > 0){%> 
                        <button type="button" id="saveSignatureId" class="btn backgroundForMainButton" onclick="getTheLocationOftheButton(this);setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save Signatures</button>
                    <%}%>
               </center>
               <br/>
           <%}%>   
           
        </div>
        <%}%>
        <!-- End of Signature Sections of the service plan Record -->
        <!-----------------------------------------END OF ADMIN SIGNATURE SECTION ----------------------------------------->
        
        <!-----------------------------------------START OF STAFF SIGNATURE SECTION ----------------------------------------->

        <%if(CustomLabels.ISP_RoleForStaffSignatures.Equals(UserInfo.Role.Name) ){ %>
        
        <!-- To Display Signature Sections of the service plan Record -->
        <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-pencil"></span>&nbsp;Signature</div>
            <div class="panel-body" >
                <!-----------------Show the Existing Signature For Client/Family and Staff ----------------------->
                <div class="panel panelClass">                                                        
                    <div class="panel-headingInline" style="height: 35px;">
                        <h4 class="panel-title" >
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOnewe" >
                            <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                        </a>
                            Existing Signatures
                        </h4>
                    </div>
                </div>
                <br/>
                
                <!-- Collapsible existing signature section-->
                <div id="collapseOnewe" class="section container-fluid panel-collapse collapse in">
                     
                     <p><b>Client/Family Signature (<%=DataBag.lstFamilySignature.Count%>) </b></p>
                     
                     <!-- Display message if no family records to display -->
                     <% if(DataBag.lstFamilySignature.Count == 0){%>
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                     <%}%>
                     
                     <div Class="signatureScrollCss">
                     
                         <!-- Start Display existing Family signature section-->
                         <% int RecordIndexCountForExistingFamilySign=-1;%>
                         
                		 <% Html.Repeat(DataBag.lstFamilySignature  as IList, htmlExistingFamilySignDiv => { %>
        		            <% RecordIndexCountForExistingFamilySign = RecordIndexCountForExistingFamilySign+1; %> 
            			    <div id="ExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>">
                			    
                			    <div id="ExistingfamilySig<%=RecordIndexCountForExistingFamilySign%>" style="pointer-events: none;background-color: #EFEFEF;"></div><br/>
                                
                                <!--Hidden field to display value of family signature -->
                                <input type='hidden' id="SaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                    name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                    value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                <!-- Display name and date for family signature area --->
                                <!-------------------------------Start Of Relationship Section -------------->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-3 col-md-3">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("User_Role_Name__c")%></b>
                                    </div>
                                     <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div> 
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signed_Date__c")%></b>
                                    </div>
                                    
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div>
                                </div>
                                <div class="row"> 
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                    </div>
                                    <div class="col-xs-3 col-md-3">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("User_Role_Name__c")%>
                                    </div>
                                    <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                    </div> 
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signed_Date__c")%>
                                    </div>
                                   
                                    <div class="col-xs-2 col-md-2" id="resignBtn<%=RecordIndexCountForExistingFamilySign%>">
                                       <a style="cursor: pointer;" onclick="ReAssignSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Re-Sign</a>
                                   </div>
                                </div>
                		      </div>
                		      <!-------------------------------End Of Relationship Section -------------->
                		      <!------------------------- Start Of Re-Sign Signature ---------------------------------------------------->
                		      <div id="DuplicateExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>" style="display:none">
                			    <div id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>"></div>
                			    <p style="clear: both;"><input type="button" class="DuplicateSigClearButtonClass" id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" DupAssosiatDivId="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" value="Clear"/>
                                <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                
                                <!--Hidden field to get value of family signature -->
                                <input  type='hidden'  RecordContextId="<%=htmlExistingFamilySignDiv.DisplayTextFor("Id")%>" id="DuplicateSaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>" />
                                
                                <!-- Display name and date for family signature area --->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                     <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div>
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div> 
                                </div>
                                <div class="row"> 
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                    </div>
                                    <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                    </div>
                                    <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <a style="cursor: pointer;" onclick="getTheLocationOftheButton(this);SaveSignature('Family','<%=RecordIndexCountForExistingFamilySign%>');">Save</a> |
                                       <a style="cursor: pointer;" onclick="CancelSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Cancel</a>
                                   </div>
                                </div>
                                 <br>
                		      </div>
                		      <br/>
                		      <hr/>
                		     <!------------------------- End Of Re-Sign Signature ---------------------------------------------------->
                		     
                		     <% }); %>
                		      <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="resignedRecordIdVal" name="resignedRecordId" 
                        		        value="">
                        	  <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="updatedSignatureVal" name="updatedSignatureValName" 
                        		        value="">  
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="ExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="DuplicateExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		    
                     </div>
                     <!-- End Display existing Family signature section-->
                     <hr class="hrCustomClass"/>
                     
                     <!-- Start Display existing Staff signature section-->
                     <p><b>Staff Signature (<%=DataBag.lstStaffSignature.Count%>) </b></p>
                     
                     <% if(DataBag.lstStaffSignature.Count == 0){%>
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                     <%}%>
                     
                     <div Class="signatureScrollCss">
                     
                     <% int RecordIndexCountForExistingStaffSign=-1;%>
                     
            		 <% Html.Repeat(DataBag.lstStaffSignature  as IList, htmlExistingStaffSignDiv => { %>
    		            <% RecordIndexCountForExistingStaffSign = RecordIndexCountForExistingStaffSign+1; %> 
    		            <div id="ExistingStaffSignature<%=RecordIndexCountForExistingStaffSign%>">
    		            
            			    <div id="ExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" style="pointer-events: none;background-color: #EFEFEF;"></div><br/>
                            
                            <!--Hidden field to display value of staff signature -->
                            <input type='hidden' id="SaveStaffSignId<%=RecordIndexCountForExistingStaffSign%>" 
                                                name="StaffSignToDisplay<%=RecordIndexCountForExistingStaffSign%>" 
                                                value="<%=htmlExistingStaffSignDiv.DisplayTextFor("Signature__c")%>">
                            
                            <!-- Display name and date for staff signature area --->
                            <div class="row">  
                                <div class="col-xs-2 col-md-2">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("Signee_Name__c")%></b>
                                </div> 
                                <div class="col-xs-2 col-md-3">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("User_Role_Name__c")%></b>
                                </div>
                                <div class="col-xs-2 col-md-2">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("Signed_Date__c")%></b>
                                </div>
                                <div class="col-xs-2 col-md-2">
                                    <b>Action</b>
                                </div>
                            </div>
                            <div class="row"> 
                               <div class="col-xs-2 col-md-2">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("Signee_Name__c")%>
                               </div>
                               <div class="col-xs-2 col-md-3">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("User_Role_Name__c")%>
                               </div>
                               <div class="col-xs-2 col-md-2">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("Signed_Date__c")%>
                               </div>
                               <div class="col-xs-2 col-md-2" id="resignStaffBtn<%=RecordIndexCountForExistingStaffSign%>">
                                   <a style="cursor: pointer;" onclick="ReAssignSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>')">Re-Sign</a>
                               </div>
                            </div>
                        </div>
                        
                        <!------------------------- Start Of Staff Re-Sign Signature ---------------------------------------------------->
            		    <div id="DuplicateExistingStaffSignature<%=RecordIndexCountForExistingStaffSign%>" style="display:none">
            			    <div id="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>"></div>
            			    <p style="clear: both;"><input type="button" class="DuplicateStaffSigClearButtonClass" id="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" DupAssosiatStaffDivId="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" value="Clear"/>
                            <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                            
                            <!--Hidden field to get value of Staff signature -->
                            <input  type='hidden'  RecordStaffContextId="<%=htmlExistingStaffSignDiv.DisplayTextFor("Id")%>" id="DuplicateSaveStaffSignId<%=RecordIndexCountForExistingStaffSign%>" 
                                            name="StaffSignToDisplay<%=RecordIndexCountForExistingStaffSign%>" 
                                            value="<%=htmlExistingStaffSignDiv.DisplayTextFor("Signature__c")%>" />
                            
                            <!-- Display name and date for staff signature area --->
                            <div class="row">  
                                <div class="col-xs-3 col-md-4">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("Signee_Name__c")%></b>
                                </div> 
                                <div class="col-xs-2 col-md-2">
                                    <b>Action</b>
                                </div> 
                            </div>
                            <div class="row"> 
                               <div class="col-xs-3 col-md-4">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("Signee_Name__c")%>
                               </div>
                               <div class="col-xs-2 col-md-2">
                                   <a style="cursor: pointer;" onclick="getTheLocationOftheButton(this);SaveSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>');">Save</a> |
                                   <a style="cursor: pointer;" onclick="CancelSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>')">Cancel</a>
                               </div>
                            </div>
                             <br>
            		    </div>
            		  <br/>
            		  <hr/>
            		  <!------------------------- End Of Staff Re-Sign Signature ---------------------------------------------------->
                            
            		 <% }); %>
            		 
                		 <!--Hidden field to display count of Staff signature -->
                		 <input type='hidden' id="ExistingCountOfStaffSignId" name="ExistingRowCountofStaffSign" 
            		        value="<%=RecordIndexCountForExistingStaffSign%>">
        		         <!--Hidden field to store the Record Id Value of the Re-Signed staff Record -->
                         <input type='hidden' id="resignedStaffRecordIdVal" name="resignedStaffRecordId" value="">
                    		        
                    	 <!--Hidden field to store the Record Id Value of the Re-Signed staff Record -->
                    	 <input type='hidden' id="updatedStaffSignatureVal" name="updatedStaffSignatureValName" value="">  
                    		        
            		     <!--Hidden field to display count of staff signature -->
                    	 <input type='hidden' id="DuplicateExistingCountOfStaffSignId" name="ExistingRowCountofStaffSign" 
                    		 value="<%=RecordIndexCountForExistingStaffSign%>">
                    		        
            		  </div>
            		 <!-- End Display existing Staff signature section-->
                </div>
                <!-- collapsible existing signature section-->
                
                <!-- Start of collapsible New signature section-->
                    <% if (DataBag.IsStatusCompleted == false) {%>     
                    
                        <div class="panel panelClass">                                                        
                            <div class="panel-headingInline" style="height: 35px;">
                                <h4 class="panel-title" >
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseNewFamily" >
                                    <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                </a>
                                    New Family Signature
                                </h4>
                            </div>
                        </div>
                        <br/>
                        
                        <div id="collapseNewFamily" class="section container-fluid panel-collapse collapse in">
                                    <p><b>Client/Family Signature</b></p>
                                 <!--Start of section to show new Family signature div -->
                                 <div>
                            		 <% int RecordIndexCountForFamilySign=-1;%>
                            		 <% Html.Repeat(DataBag.lstNewFamilySignature as IList, htmlNewFamilySignDiv => { %>
                    		            <% RecordIndexCountForFamilySign=RecordIndexCountForFamilySign+1; %> 
                        			    <div id="familySig<%=RecordIndexCountForFamilySign%>"></div>
                        			    <p style="clear: both;"><input type="button" class="SigClearButtonClass" id="clearFamily<%=RecordIndexCountForFamilySign%>" AssosiatDivId="familySig<%=RecordIndexCountForFamilySign%>" value="Clear"/>
                                        <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                        
                                        <!--Hidden field to get value of family signature -->
                                        <input type='hidden' id="getFamilySignId<%=RecordIndexCountForFamilySign%>" 
                                                    name="FamilySignToSave<%=RecordIndexCountForFamilySign%>" 
                                                    value="<%=htmlNewFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                        
                                        <!-- Display name and date for family signature area --->
                                        <div class="row">  
                                            <div class="col-xs-2 col-md-3" style="margin-bottom: 1.5%;">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                            </div> 
                                             <!-------------------------------Start Of Relationship Section -------------->
                                            <div class="col-xs-2 col-md-2">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                            </div>
                                             <!-------------------------------End Of Relationship Section -------------->
                                        </div>
                                        <div class="row"> 
                                           <div class="col-xs-2 col-md-3" style="margin-bottom: 1.5%;">
                                               <%=htmlNewFamilySignDiv.DisplayEditorFor("Signee_Name__c")%>
                                           </div>
                                           <div class="col-xs-2 col-md-2">
                                                <%=htmlNewFamilySignDiv.DisplayEditorFor("Relationship_Type__c")%>
                                            </div>
                                        </div>
                                        
                            		 <% }); %>
                            		 
                            		 <input type='hidden' id="CountOfFamilySignId" name="RowCountofFamilySign" value="<%=RecordIndexCountForFamilySign%>">
                                 </div>
                                 <!--End of section to show new Family signature div  -->
                                 
                                 <div class="row">
                                    <div class="col-md-12" id="saveSignDiv">
                                <!-----------------------------------------------------------Check GetLocation ---------------------------->
                                		<button id="AddFamilySignId" type="button" class="btn backgroundForButton" onclick="setValueToSignTextField(this);getTheLocationOftheButton(this);__doPostBack('AddFamilySignatureRowToList');"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Add</button>
                                		<%if(DataBag.lstNewFamilySignature.Count > 0){%> 
                                    		<button id="RemoveFamilySignId" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('RemoveFamilySignatureRowToList');"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Remove</button>
                                    		<button id="CancelFamilySignId" type="button" class="btn backgroundForButton" onclick="doRedirectOnCancel();"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Cancel</button>
                                	    <%}%> 
                                	    
                                	</div> 
                        	    </div><br/>
                	    </div>
                        <!-- End of collapsible New Client Signature section-->
                        <div class="panel panelClass">                                                        
                            <div class="panel-headingInline" style="height: 35px;">
                                <h4 class="panel-title" >
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseNew" >
                                    <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                </a>
                                New Staff Signature
                                </h4>
                            </div>
                        </div>
                        <br/>
                        
                        <!-- Start  of collapsible New Staff Signature section-->
                        <div id="collapseNew" class="section container-fluid panel-collapse collapse in">
                                 <p><b>Staff Signature</b></p>
                                 
                                 <!--Start of section to show new Staff signature div -->
                                 <div>
                            		 <% int RecordIndexCountForStaffSign=-1;%>
                            		 <% Html.Repeat(DataBag.lstNewStaffSignature as IList, htmlNewStaffSignDiv => { %>
                    		            <% RecordIndexCountForStaffSign=RecordIndexCountForStaffSign+1; %> 
                        			    <div id="staffSig<%=RecordIndexCountForStaffSign%>"></div>
                        			    <p style="clear: both;"><input type="button" class="StaffSigClearButtonClass" id="clearStaff<%=RecordIndexCountForStaffSign%>" AssosiatStaffDivId="staffSig<%=RecordIndexCountForStaffSign%>" value="Clear"/>
                                        <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                        
                                        <!--Hidden field to get value of Staff signature -->
                                        <input type='hidden' id="getStaffSignId<%=RecordIndexCountForStaffSign%>" 
                                                    name="StaffSignToSave<%=RecordIndexCountForStaffSign%>" 
                                                    value="<%=htmlNewStaffSignDiv.DisplayTextFor("Signature__c")%>">
                                        
                                        <!-- Display name and date for staff signature area --->
                                        <div class="row">  
                                            <div class="col-md-2">
                                                <b><%=htmlNewStaffSignDiv.LabelFor("Signee_Name__c")%></b>
                                            </div> 
                                        </div>
                                        <div class="row"> 
                                           <div class="col-md-2" style="margin-bottom: 1.5%;">
                                               <%=htmlNewStaffSignDiv.DisplayEditorFor("Signee_Name__c")%>
                                           </div>
                                        </div>
                                        
                            		 <% }); %>
                            		 
                            		 <input type='hidden' id="CountOfStaffSignId" name="RowCountofStaffSign" value="<%=RecordIndexCountForStaffSign%>">
                                 </div>
                                 <!--End of section to show new Staff signature div -->
                            
                             
                             <%if( CustomLabels.ISP_RoleForStaffSignatures.Equals(UserInfo.Role.Name)){%>
                                 <div class="row">
                                    <div class="col-md-12" id="saveSignDiv">
                                        <button id="AddStaffSignId" type="button" class="btn backgroundForButton" onclick="setValueToSignTextField(this);getTheLocationOftheButton(this);__doPostBack('AddStaffSignatureRowToList');"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Add</button>
                                        <%if(DataBag.lstNewStaffSignature.Count > 0){%> 
                                		    <button id="RemovestaffSignId" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('RemoveStaffSignatureRowToList');"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Remove</button>
                                	    	<button id="CancelStaffSignId" type="button" class="btn backgroundForButton" onclick="doRedirectOnCancel();"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Cancel</button>
                                		<%}%>
                                        
                                	</div>
                        	    </div>
                    	    <%}%>
                    	    
                	    </div>
                        <!-- End of collapsible New Staff Signature section-->
                    <%}%>
           </div>
           <% if (DataBag.IsStatusCompleted == false) {%>
               <center>
                    <%if(DataBag.lstNewStaffSignature.Count > 0 || DataBag.lstNewFamilySignature.Count > 0){%> 
                        <button type="button" id="saveSignatureId" class="btn backgroundForMainButton" onclick="getTheLocationOftheButton(this);setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;showValidationErrorPopup();showCustomValidationErrorPopup();ignatures</button>
                    <%}%>
               </center>
               <br/>
           <%}%>
           
        </div>
        <%}%>
        <!-- End of Signature Sections of the service plan Record -->
        <!-----------------------------------------END OF STAFF SIGNATURE SECTION ----------------------------------------->
        
        <!-----------------------------------------START OF SUPERVISOR SIGNATURE SECTION ----------------------------------------->

        <%if(CustomLabels.ISP_RoleForSupervisorSignatures.Equals(UserInfo.Role.Name) ){ %>
        
        <!-- To Display Signature Sections of the service plan Record -->
        <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-pencil"></span>&nbsp;Signature</div>
            <div class="panel-body" >
                <!-----------------Show the Existing Signature For Client/Family and Staff ----------------------->
                <div class="panel panelClass">                                                        
                    <div class="panel-headingInline" style="height: 35px;">
                        <h4 class="panel-title" >
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOnewe" >
                            <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                        </a>
                            Existing Signatures
                        </h4>
                    </div>
                </div>
                <br/>
                
                <!-- Collapsible existing signature section-->
                <div id="collapseOnewe" class="section container-fluid panel-collapse collapse in">
                     
                     <p><b>Client/Family Signature (<%=DataBag.lstFamilySignature.Count%>) </b></p>
                     
                     <!-- Display message if no family records to display -->
                     <% if(DataBag.lstFamilySignature.Count == 0){%>
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                     <%}%>
                     
                     <div Class="signatureScrollCss">
                     
                         <!-- Start Display existing Family signature section-->
                         <% int RecordIndexCountForExistingFamilySign=-1;%>
                         
                		 <% Html.Repeat(DataBag.lstFamilySignature  as IList, htmlExistingFamilySignDiv => { %>
        		            <% RecordIndexCountForExistingFamilySign = RecordIndexCountForExistingFamilySign+1; %> 
            			    <div id="ExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>">
                			    
                			    <div id="ExistingfamilySig<%=RecordIndexCountForExistingFamilySign%>" style="pointer-events: none;background-color: #EFEFEF;"></div><br/>
                                
                                <!--Hidden field to display value of family signature -->
                                <input type='hidden' id="SaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                    name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                    value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                <!-- Display name and date for family signature area --->
                                <!-------------------------------Start Of Relationship Section -------------->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-3 col-md-3">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("User_Role_Name__c")%></b>
                                    </div> 
                                     <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div> 
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signed_Date__c")%></b>
                                    </div>
                                    
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div>
                                </div>
                                <div class="row"> 
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                    </div>
                                    <div class="col-xs-3 col-md-3">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("User_Role_Name__c")%>
                                    </div> 
                                    <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                    </div> 
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signed_Date__c")%>
                                    </div>
                                   
                                    <div class="col-xs-2 col-md-2" id="resignBtn<%=RecordIndexCountForExistingFamilySign%>">
                                       <a style="cursor: pointer;" onclick="ReAssignSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Re-Sign</a>
                                   </div>
                                   
                                </div>
                		      </div>
                		      <!-------------------------------End Of Relationship Section -------------->
                		      <!------------------------- Start Of Re-Sign Signature ---------------------------------------------------->
                		      <div id="DuplicateExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>" style="display:none">
                			    <div id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>"></div>
                			    <p style="clear: both;"><input type="button" class="DuplicateSigClearButtonClass" id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" DupAssosiatDivId="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" value="Clear"/>
                                <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                
                                <!--Hidden field to get value of family signature -->
                                <input  type='hidden'  RecordContextId="<%=htmlExistingFamilySignDiv.DisplayTextFor("Id")%>" id="DuplicateSaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>" />
                                
                                <!-- Display name and date for family signature area --->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                     <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div>
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div> 
                                </div>
                                <div class="row"> 
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                   </div>
                                    <!-------------------------------Start Of Relationship Section -------------->
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                   </div>
                                    <!-------------------------------End Of Relationship Section -------------->
                                   <div class="col-xs-2 col-md-2">
                                       <a style="cursor: pointer;" onclick="getTheLocationOftheButton(this);SaveSignature('Family','<%=RecordIndexCountForExistingFamilySign%>');">Save</a> |
                                       <a style="cursor: pointer;" onclick="CancelSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Cancel</a>
                                   </div>
                                </div>
                                 <br>
                		      </div>
                		      <br/>
                		      <hr/>
                		     <!------------------------- End Of Re-Sign Signature ---------------------------------------------------->
                		     
                		     <% }); %>
                		      <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="resignedRecordIdVal" name="resignedRecordId" 
                        		        value="">
                        	  <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="updatedSignatureVal" name="updatedSignatureValName" 
                        		        value="">  
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="ExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="DuplicateExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		    
                     </div>
                     <!-- End Display existing Family signature section-->
                     <hr class="hrCustomClass"/>
                     
                     <!-- Start Display existing Staff signature section-->
                     <p><b>Staff Signature (<%=DataBag.lstStaffSignature.Count%>) </b></p>
                     
                     <% if(DataBag.lstStaffSignature.Count == 0){%>
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                     <%}%>
                     
                     <div Class="signatureScrollCss">
                     
                     <% int RecordIndexCountForExistingStaffSign=-1;%>
                     
            		 <% Html.Repeat(DataBag.lstStaffSignature  as IList, htmlExistingStaffSignDiv => { %>
    		            <% RecordIndexCountForExistingStaffSign = RecordIndexCountForExistingStaffSign+1; %> 
    		            <div id="ExistingStaffSignature<%=RecordIndexCountForExistingStaffSign%>">
    		            
            			    <div id="ExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" style="pointer-events: none;background-color: #EFEFEF;"></div><br/>
                            
                            <!--Hidden field to display value of staff signature -->
                            <input type='hidden' id="SaveStaffSignId<%=RecordIndexCountForExistingStaffSign%>" 
                                                name="StaffSignToDisplay<%=RecordIndexCountForExistingStaffSign%>" 
                                                value="<%=htmlExistingStaffSignDiv.DisplayTextFor("Signature__c")%>">
                            
                            <!-- Display name and date for staff signature area --->
                            <div class="row">  
                                <div class="col-xs-2 col-md-2">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("Signee_Name__c")%></b>
                                </div> 
                                <div class="col-xs-2 col-md-3">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("User_Role_Name__c")%></b>
                                </div>
                                <div class="col-xs-2 col-md-2">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("Signed_Date__c")%></b>
                                </div>
                                <div class="col-xs-2 col-md-2">
                                    <b>Action</b>
                                </div>
                            </div>
                            <div class="row"> 
                               <div class="col-xs-2 col-md-2">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("Signee_Name__c")%>
                               </div>
                               <div class="col-xs-2 col-md-3">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("User_Role_Name__c")%>
                               </div>
                               <div class="col-xs-2 col-md-2">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("Signed_Date__c")%>
                               </div>
                               <div class="col-xs-2 col-md-2" id="resignStaffBtn<%=RecordIndexCountForExistingStaffSign%>">
                                   <a style="cursor: pointer;" onclick="ReAssignSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>')">Re-Sign</a>
                               </div>
                            </div>
                        </div>
                        
                        <!------------------------- Start Of Staff Re-Sign Signature ---------------------------------------------------->
            		    <div id="DuplicateExistingStaffSignature<%=RecordIndexCountForExistingStaffSign%>" style="display:none">
            			    <div id="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>"></div>
            			    <p style="clear: both;"><input type="button" class="DuplicateStaffSigClearButtonClass" id="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" DupAssosiatStaffDivId="DuplicateExistingStaffSig<%=RecordIndexCountForExistingStaffSign%>" value="Clear"/>
                            <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                            
                            <!--Hidden field to get value of Staff signature -->
                            <input  type='hidden'  RecordStaffContextId="<%=htmlExistingStaffSignDiv.DisplayTextFor("Id")%>" id="DuplicateSaveStaffSignId<%=RecordIndexCountForExistingStaffSign%>" 
                                            name="StaffSignToDisplay<%=RecordIndexCountForExistingStaffSign%>" 
                                            value="<%=htmlExistingStaffSignDiv.DisplayTextFor("Signature__c")%>" />
                            
                            <!-- Display name and date for staff signature area --->
                            <div class="row">  
                                <div class="col-xs-2 col-md-4">
                                    <b><%=htmlExistingStaffSignDiv.LabelFor("Signee_Name__c")%></b>
                                </div> 
                                <div class="col-xs-2 col-md-2">
                                    <b>Action</b>
                                </div> 
                            </div>
                            <div class="row"> 
                               <div class="col-xs-2 col-md-4">
                                   <%=htmlExistingStaffSignDiv.DisplayTextFor("Signee_Name__c")%>
                               </div>
                               <div class="col-xs-2 col-md-2">
                                   <a style="cursor: pointer;" onclick="getTheLocationOftheButton(this);SaveSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>');">Save</a> |
                                   <a style="cursor: pointer;" onclick="CancelSignature('Staff','<%=RecordIndexCountForExistingStaffSign%>')">Cancel</a>
                               </div>
                            </div>
                             <br>
            		    </div>
            		  <br/>
            		  <hr/>
            		  <!------------------------- End Of Staff Re-Sign Signature ---------------------------------------------------->
                            
            		 <% }); %>
            		 
                		 <!--Hidden field to display count of Staff signature -->
                		 <input type='hidden' id="ExistingCountOfStaffSignId" name="ExistingRowCountofStaffSign" 
            		        value="<%=RecordIndexCountForExistingStaffSign%>">
        		         <!--Hidden field to store the Record Id Value of the Re-Signed staff Record -->
                         <input type='hidden' id="resignedStaffRecordIdVal" name="resignedStaffRecordId" value="">
                    		        
                    	 <!--Hidden field to store the Record Id Value of the Re-Signed staff Record -->
                    	 <input type='hidden' id="updatedStaffSignatureVal" name="updatedStaffSignatureValName" value="">  
                    		        
            		     <!--Hidden field to display count of staff signature -->
                    	 <input type='hidden' id="DuplicateExistingCountOfStaffSignId" name="ExistingRowCountofStaffSign" 
                    		 value="<%=RecordIndexCountForExistingStaffSign%>">
            		  </div>
            		 <!-- End Display existing Staff signature section-->
                </div>
                <!-- collapsible existing signature section-->
                
                <!-- Start of collapsible New signature section-->
                    <% if (DataBag.IsStatusCompleted == false) {%>
                    
                        <div class="panel panelClass">                                                        
                            <div class="panel-headingInline" style="height: 35px;">
                                <h4 class="panel-title" >
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseNewFamily" >
                                    <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                </a>
                                    New Family Signature
                                </h4>
                            </div>
                        </div>
                        <br/>
                        
                        <div id="collapseNewFamily" class="section container-fluid panel-collapse collapse in">
                                    <p><b>Client/Family Signature</b></p>
                                 <!--Start of section to show new Family signature div -->
                                 <div>
                            		 <% int RecordIndexCountForFamilySign=-1;%>
                            		 <% Html.Repeat(DataBag.lstNewFamilySignature as IList, htmlNewFamilySignDiv => { %>
                    		            <% RecordIndexCountForFamilySign=RecordIndexCountForFamilySign+1; %> 
                        			    <div id="familySig<%=RecordIndexCountForFamilySign%>"></div>
                        			    <p style="clear: both;"><input type="button" class="SigClearButtonClass" id="clearFamily<%=RecordIndexCountForFamilySign%>" AssosiatDivId="familySig<%=RecordIndexCountForFamilySign%>" value="Clear"/>
                                        <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                        
                                        <!--Hidden field to get value of family signature -->
                                        <input type='hidden' id="getFamilySignId<%=RecordIndexCountForFamilySign%>" 
                                                    name="FamilySignToSave<%=RecordIndexCountForFamilySign%>" 
                                                    value="<%=htmlNewFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                                    
                                        <!-- Display name and date for family signature area --->
                                         <div class="row">  
                                            <div class="col-xs-2 col-md-3" style="margin-bottom: 1.5%;">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                            </div> 
                                             <!-------------------------------Start Of Relationship Section -------------->
                                            <div class="col-xs-2 col-md-3" style="margin-bottom: 1.5%;">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                            </div>
                                             <!-------------------------------End Of Relationship Section -------------->
                                        </div>
                                        <div class="row"> 
                                           <div class="col-xs-2 col-md-3" style="margin-bottom: 1.5%;">
                                               <%=htmlNewFamilySignDiv.DisplayEditorFor("Signee_Name__c")%>
                                           </div>
                                            <!-------------------------------Start Of Relationship Section -------------->
                                           <div class="col-xs-2 col-md-3" style="margin-bottom: 1.5%;">
                                                <%=htmlNewFamilySignDiv.DisplayEditorFor("Relationship_Type__c")%>
                                            </div>
                                             <!-------------------------------End Of Relationship Section -------------->
                                        </div>
                                        
                            		 <% }); %>
                            		 
                            		 <input type='hidden' id="CountOfFamilySignId" name="RowCountofFamilySign" value="<%=RecordIndexCountForFamilySign%>">
                                 </div>
                                 <!--End of section to show new Family signature div  -->
                                 
                                 <div class="row">
                                    <div class="col-md-12" id="saveSignDiv">
                                		<button id="AddFamilySignId" type="button" class="btn backgroundForButton" onclick="setValueToSignTextField(this);getTheLocationOftheButton(this);__doPostBack('AddFamilySignatureRowToList');"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Add</button>
                                		<%if(DataBag.lstNewFamilySignature.Count > 0){%> 
                                    		<button id="RemoveFamilySignId" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('RemoveFamilySignatureRowToList');"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Remove</button>
                                    		<button id="CancelFamilySignId" type="button" class="btn backgroundForButton" onclick="doRedirectOnCancel();"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Cancel</button>
                                	    <%}%> 
                                	    
                                	</div> 
                        	    </div><br/>
                	    </div>
                        <!-- End of collapsible New Client Signature section-->
                    <%}%> 
                    
                    <!-- When user logged through as Supervisor should be able to see Supervisor Signature Section in editable format-->
                     <%
                            Html.Repeat(DataBag.lstServicePlanObj as IList, htmlServicePlanObj => { %>
                                
                                    <div class="panel panelClass">                                                        
                                        <div class="panel-headingInline" style="height: 35px;">
                                            <h4 class="panel-title" >
                                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseTwowe" >
                                                <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                            </a>
                                            Supervisor Signature Section
                                            </h4>
                                        </div>
                                    </div><br/>
                                    
                                    <% if (DataBag.IsStatusCompleted == false) {%>
                                        <div id="SupervisorSig"></div>
                                        <p style="clear: both;"><input type="button" id="clearSupervisor" value="Clear"/>
                                        <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                    <%}else{%>
                                        <div id="SupervisorSig" style="pointer-events: none;background-color: #EFEFEF;"></div>
                                    <%}%>   
                                    
                                    <!-- Display name and date for supervisor signature area --->
                                    <div class="row">  
                                        <div class="col-xs-2 col-md-2">
                                            <b><%=htmlServicePlanObj.LabelFor("Supervisor_Signee_Name__c")%></b>
                                        </div> 
                                        <% if (htmlServicePlanObj.DisplayTextFor("Supervisor_Role_Name__c") != "" && htmlServicePlanObj.DisplayTextFor("Supervisor_Role_Name__c") != null) {%> 
                                            <div class="col-xs-2 col-md-3">
                                                <b><%=htmlServicePlanObj.LabelFor("Supervisor_Role_Name__c")%></b>
                                            </div>
                                        <%}%>
                                        <div class="col-xs-2 col-md-2">
                                            <% if (htmlServicePlanObj.DisplayTextFor("Supervisor_Signed_Date__c") != "" && htmlServicePlanObj.DisplayTextFor("Supervisor_Signed_Date__c") != null) {%> 
                                                <b><%=htmlServicePlanObj.LabelFor("Supervisor_Signed_Date__c")%></b>
                                            <%}%>
                                        </div>
                                    </div>
                                    <div class="row"> 
                                        <div class="col-xs-2 col-md-2">
                                           <% if (DataBag.IsStatusCompleted == false) {%>
                                               <%=htmlServicePlanObj.DisplayEditorFor("Supervisor_Signee_Name__c")%>
                                           <%}else{%>
                                               <%=htmlServicePlanObj.DisplayTextFor("Supervisor_Signee_Name__c")%>
                                           <%}%> 
                                        </div>
                                        <% if (htmlServicePlanObj.DisplayTextFor("Supervisor_Role_Name__c") != "" && htmlServicePlanObj.DisplayTextFor("Supervisor_Role_Name__c") != null) {%> 
                                            <div class="col-xs-2 col-md-3">
                                               <%=htmlServicePlanObj.DisplayTextFor("Supervisor_Role_Name__c")%>
                                            </div>
                                        <%}%>
                                        <div class="col-xs-2 col-md-2">
                                           <% if (htmlServicePlanObj.DisplayTextFor("Supervisor_Signed_Date__c") != "" && htmlServicePlanObj.DisplayTextFor("Supervisor_Signed_Date__c") != null) {%> 
                                               <%=htmlServicePlanObj.DisplayTextFor("Supervisor_Signed_Date__c")%>
                                           <%}%>
                                        </div>
                                    </div>
                                   
                        <% }); %>
        	        
           </div>
           <% if (DataBag.IsStatusCompleted == false) {%>
               <center>
                    <button type="button" id="saveSignatureId" class="btn backgroundForMainButton" onclick="getTheLocationOftheButton(this);setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save Signatures</button>
               </center>
               <br/>
           <%}%>  
           
        </div>
        <%}%>
        <!-- End of Signature Sections of the service plan Record -->
        <!-----------------------------------------END OF SUPERVISOR SIGNATURE SECTION ----------------------------------------->
        
        <!-----------------------------------------START OF CLIENT/FAMILY SIGNATURE SECTION ----------------------------------------->

        <%if(CustomLabels.ISP_RoleForClientSignatures.Equals(UserInfo.Role.Name) ){ %>
        
        <!-- To Display Signature Sections of the service plan Record -->
        <div class="panel borderofPanel">
            <div class="panel-heading"><span class="glyphicon glyphicon-pencil"></span>&nbsp;Signature</div>
            <div class="panel-body" >
                <!-----------------Show the Existing Signature For Client/Family and Staff ----------------------->
                <div class="panel panelClass">                                                        
                    <div class="panel-headingInline" style="height: 35px;">
                        <h4 class="panel-title" >
                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseOnewe" >
                            <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                        </a>
                            Existing Signatures
                        </h4>
                    </div>
                </div>
                <br/>
                
                <!-- Collapsible existing signature section-->
                <div id="collapseOnewe" class="section container-fluid panel-collapse collapse in">
                     
                     <p><b>Client/Family Signature (<%=DataBag.lstFamilySignature.Count%>) </b></p>
                     
                     <!-- Display message if no family records to display -->
                     <% if(DataBag.lstFamilySignature.Count == 0){%>
                        <span><%:CustomLabels.CustomInterface_RecordNotFound%></span>
                     <%}%>
                     
                     <div Class="signatureScrollCss">
                     
                         <!-- Start Display existing Family signature section-->
                         <% int RecordIndexCountForExistingFamilySign=-1;%>
                         
                		 <% Html.Repeat(DataBag.lstFamilySignature  as IList, htmlExistingFamilySignDiv => { %>
        		            <% RecordIndexCountForExistingFamilySign = RecordIndexCountForExistingFamilySign+1; %> 
            			    <div id="ExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>">
                			    
                			    <div id="ExistingfamilySig<%=RecordIndexCountForExistingFamilySign%>" style="pointer-events: none;background-color: #EFEFEF;"></div><br/>
                                
                                <!--Hidden field to display value of family signature -->
                                <input type='hidden' id="SaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                    name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                    value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                <!-- Display name and date for family signature area --->
                                <!-------------------------------Start Of Relationship Section -------------->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                    <div class="col-xs-2 col-md-3">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("User_Role_Name__c")%></b>
                                    </div>
                                     <!-------------------------------Start Of Relationship Section -------------->
                                     <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div> 
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signed_Date__c")%></b>
                                    </div>
                                    <% if (DataBag.IsStatusCompleted == false) {%>
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div>
                                    <%}%>
                                </div>
                                <div class="row"> 
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                   </div>
                                   <div class="col-xs-2 col-md-3">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("User_Role_Name__c")%>
                                    </div> 
                                    <!-------------------------------Start Of Relationship Section -------------->
                                   <div class="col-xs-2 col-md-2">
                                        <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                    </div> 
                                     <!-------------------------------End Of Relationship Section -------------->
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signed_Date__c")%>
                                   </div>
                                   <% if (DataBag.IsStatusCompleted == false) {%>
                                       <div class="col-xs-2 col-md-2" id="resignBtn<%=RecordIndexCountForExistingFamilySign%>">
                                           <a style="cursor: pointer;" onclick="ReAssignSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Re-Sign</a>
                                       </div>
                                   <%}%>
                                </div>
                		      </div>
                		      <!-------------------------------End Of Relationship Section -------------->
                		      <!------------------------- Start Of Re-Sign Signature ---------------------------------------------------->
                		      <div id="DuplicateExistingFamilySignature<%=RecordIndexCountForExistingFamilySign%>" style="display:none">
                			    <div id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>"></div>
                			    <p style="clear: both;"><input type="button" class="DuplicateSigClearButtonClass" id="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" DupAssosiatDivId="DuplicateExistingFamilySig<%=RecordIndexCountForExistingFamilySign%>" value="Clear"/>
                                <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                
                                <!--Hidden field to get value of family signature -->
                                <input  type='hidden'  RecordContextId="<%=htmlExistingFamilySignDiv.DisplayTextFor("Id")%>" id="DuplicateSaveFamilySignId<%=RecordIndexCountForExistingFamilySign%>" 
                                                name="FamilySignToDisplay<%=RecordIndexCountForExistingFamilySign%>" 
                                                value="<%=htmlExistingFamilySignDiv.DisplayTextFor("Signature__c")%>" />
                                
                                <!-- Display name and date for family signature area --->
                                <div class="row">  
                                    <div class="col-xs-2 col-md-2">
                                        <b><%=htmlExistingFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                    </div> 
                                     <!-------------------------------Start Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                       <b><%=htmlExistingFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                    </div>
                                     <!-------------------------------End Of Relationship Section -------------->
                                    <div class="col-xs-2 col-md-2">
                                        <b>Action</b>
                                    </div> 
                                </div>
                                <div class="row"> 
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Signee_Name__c")%>
                                   </div>
                                    <!-------------------------------Start Of Relationship Section -------------->
                                   <div class="col-xs-2 col-md-2">
                                       <%=htmlExistingFamilySignDiv.DisplayTextFor("Relationship_Type__c")%>
                                   </div>
                                    <!-------------------------------End Of Relationship Section -------------->
                                   <div class="col-xs-2 col-md-2">
                                       <a style="cursor: pointer;" onclick="getTheLocationOftheButton(this);SaveSignature('Family','<%=RecordIndexCountForExistingFamilySign%>');">Save</a> |
                                       <a style="cursor: pointer;" onclick="CancelSignature('Family','<%=RecordIndexCountForExistingFamilySign%>')">Cancel</a>
                                   </div>
                                </div>
                                 <br>
                		      </div>
                		      <br/>
                		      <hr/>
                		     <!------------------------- End Of Re-Sign Signature ---------------------------------------------------->
                		     
                		     <% }); %>
                		      <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="resignedRecordIdVal" name="resignedRecordId" 
                        		        value="">
                        	  <!--Hidden field to store the Record Id Value of the Re-Signed Record -->
                        		 <input type='hidden' id="updatedSignatureVal" name="updatedSignatureValName" 
                        		        value="">  
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="ExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		      <!--Hidden field to display count of family signature -->
                        		 <input type='hidden' id="DuplicateExistingCountOfFamilySignId" name="ExistingRowCountofFamilySign" 
                        		        value="<%=RecordIndexCountForExistingFamilySign%>">
                		    
                     </div>
                     <!-- End Display existing Family signature section-->
                     <hr/>
                </div>
                <!-- collapsible existing signature section-->
                
                <!-- Start of collapsible New signature section-->
                    <% if (DataBag.IsStatusCompleted == false) {%>    
                    
                        <div class="panel panelClass">                                                        
                            <div class="panel-headingInline" style="height: 35px;">
                                <h4 class="panel-title" >
                                <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseNewFamily" >
                                    <i class="indicator glyphicon  pull-left glyphicon-chevron-down"></i>
                                </a>
                                    New Family Signature
                                </h4>
                            </div>
                        </div>
                        <br/>
                        
                        <div id="collapseNewFamily" class="section container-fluid panel-collapse collapse in">
                                    <p><b>Client/Family Signature</b> <span class="fsRequiredMarker">*</span></p>
                                 <!--Start of section to show new Family signature div -->
                                 <div>
                            		 <% int RecordIndexCountForFamilySign=-1;%>
                            		 <% Html.Repeat(DataBag.lstNewFamilySignature as IList, htmlNewFamilySignDiv => { %>
                    		            <% RecordIndexCountForFamilySign=RecordIndexCountForFamilySign+1; %> 
                        			    <div id="familySig<%=RecordIndexCountForFamilySign%>"></div>
                        			    <p style="clear: both;"><input type="button" class="SigClearButtonClass" id="clearFamily<%=RecordIndexCountForFamilySign%>" AssosiatDivId="familySig<%=RecordIndexCountForFamilySign%>" value="Clear"/>
                                        <p class="noteClass">Use your mouse or finger to draw your signature above</p>
                                        
                                        <!--Hidden field to get value of family signature -->
                                        <input type='hidden' id="getFamilySignId<%=RecordIndexCountForFamilySign%>" 
                                                    name="FamilySignToSave<%=RecordIndexCountForFamilySign%>" 
                                                    value="<%=htmlNewFamilySignDiv.DisplayTextFor("Signature__c")%>">
                                        
                                        <!-- Display name and date for family signature area --->
                                        <div class="row">  
                                            <div class="col-xs-2 col-md-3">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Signee_Name__c")%></b>
                                            </div> 
                                             <!-------------------------------Start Of Relationship Section -------------->
                                            <div class="col-xs-2 col-md-2">
                                                <b><%=htmlNewFamilySignDiv.LabelFor("Relationship_Type__c")%></b>
                                            </div>
                                             <!-------------------------------End Of Relationship Section -------------->
                                        </div>
                                        <div class="row"> 
                                           <div class="col-xs-2 col-md-3" style="margin-bottom: 14px;">
                                               <%=htmlNewFamilySignDiv.DisplayEditorFor("Signee_Name__c")%>
                                           </div>
                                            <!-------------------------------Start Of Relationship Section -------------->
                                           <div class="col-xs-2 col-md-2" style="margin-bottom: 14px;">
                                                <%=htmlNewFamilySignDiv.DisplayEditorFor("Relationship_Type__c")%>
                                            </div>
                                             <!-------------------------------End Of Relationship Section -------------->
                                        </div>
                            		 <% }); %>
                            		 
                            		 <input type='hidden' id="CountOfFamilySignId" name="RowCountofFamilySign" value="<%=RecordIndexCountForFamilySign%>">
                                 </div>
                                 <!--End of section to show new Family signature div  -->
                                 
                                 <div class="row">
                                    <div class="col-md-12" id="saveSignDiv">
                                        <% if (DataBag.IsStatusCompleted == false) {%>
                                		    <button id="AddFamilySignId" type="button" class="btn backgroundForButton" onclick="setValueToSignTextField(this);getTheLocationOftheButton(this);__doPostBack('AddFamilySignatureRowToList');"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp;Add</button>
                                		<%}%> 
                                		<%if(DataBag.lstNewFamilySignature.Count > 1){%> 
                                    		<button id="RemoveFamilySignId" type="button" class="btn backgroundForButton" onclick="getTheLocationOftheButton(this);__doPostBack('RemoveFamilySignatureRowToList');"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Remove</button>
                                    		<button id="CancelFamilySignId" type="button" class="btn backgroundForButton" onclick="doRedirectOnCancel();"><span class="glyphicon glyphicon-remove-sign"></span>&nbsp;Cancel</button>
                                	    <%}%> 
                                	    
                                	</div> 
                        	    </div><br/>
                	    </div>
                        <!-- End of collapsible New Client Signature section-->
                    <%}%> 
        	        
           </div>
           <% if (DataBag.IsStatusCompleted == false) {%>
               <center>
                    <%if(DataBag.lstNewStaffSignature.Count > 0 || DataBag.lstNewFamilySignature.Count > 0){%> 
                        <button type="button" id="saveSignatureId" class="btn backgroundForMainButton" onclick="getTheLocationOftheButton(this);setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save Signatures</button>
                    <%}%>
               </center>
               <br/>
           <%}%>
           
        </div>
        <%}%>
        <!-- End of Signature Sections of the service plan Record -->
        <!-----------------------------------------END OF CLIENT/FAMILY SIGNATURE SECTION ----------------------------------------->
        
        <%
          Html.Repeat(DataBag.lstServicePlanObj as IList, htmlServicePlanObj => { %>
            <!-- Below hidden field contains the value of Supervisor signture to save service Plan-->
            <input type='hidden' id="SaveSupervisorSignId" name="SupervisorToUpdateServicePlan" value="<%=htmlServicePlanObj.DisplayTextFor("Supervisor_Signature__c")%>">
        <% }); %>
        
        <br/>
        <center>
            <div id="SaveBtnId">
                <% if (DataBag.IsStatusCompleted == false) {%>
                    <button type="button" id="saveAllISPInfoId" class="btn backgroundForMainButton" onclick="setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save</button>
                    <button type="button" id="saveCompleteId" class="btn backgroundForMainButton" onclick="setValueToSignTextField(this);showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon-save"></span>&nbsp;Save and Complete ISP</button>
                <%}%>
                <% if (DataBag.IsStatusCompleted == true) {%>
                    <% if (DataBag.isReEditableAfterCompleted == false) {%>
                        <button type="button" class="btn backgroundForMainButton" data-dismiss="modal" data-toggle="modal" data-target="#editISPModal"><span class="glyphicon glyphicon-pencil">&nbsp;Edit</button>
                    <%}%>
                    <% if (DataBag.isReEditableAfterCompleted == true) {%>
                        <button type="button" id="saveCompleteId" class="btn backgroundForMainButton" data-dismiss="modal" data-toggle="modal" data-target="#AgainSaveAndCompleteISPModal"><span class="glyphicon glyphicon-save"></span>&nbsp;Save and Complete ISP</button>
                        <button type="button" class="btn backgroundForMainButton" data-dismiss="modal" onclick="doRedirect();"><span class="glyphicon glyphicon-remove">&nbsp;Cancel</button>
                    <%}%>
                <%}%>
            </div>
            <!-- <button id="printbtnID" type="button" class="btn backgroundForMainButton" style="float: right;" onclick="doPrint(event);"><span class="glyphicon glyphicon-print"></span>&nbsp;Print Service Plan</button> -->
            <button id="printbtnID" type="button" class="btn backgroundForMainButton" style="float: right;" onclick="setTheJsonParameter();"><span class="glyphicon glyphicon-print"></span>&nbsp;Print Service Plan</button>
            
        </center>
    	<br/>
    	
        <!-- Below hidden field contains the value of Service for saving the Goals-->
        <input type='hidden' id="ServiceIdForSave" name="ServiceIDforListofGoalToInsert" value="">
        <!-- Below hidden to store the id of the button on click -->
        <input type='hidden' class="scrollBarClass" id="scrollBarId" name="scrollIdName" value="<%=DataBag.IdOfTheButton%>">
        
        <!-- Below hidden to store the id of the button on click -->
        <input type='hidden' class="scrollBarClass" id="scrollPositionBarId" name="scrollPositionIdName" value="<%=DataBag.PositionOfTheButton%>">
        
        <!------Below hidden anchor tag is used to scroll to speific position --------->
        <a  type='hidden' id="scrollPositionId" href="#<%=DataBag.IdOfTheButton%>">
        
        <!-- Below hidden field contains the value of Service for Editing/Saving the Service record-->
        <input type='hidden' id="ServiceIdForEdit" name="ServiceIDforServiceToEdit" value="<%=DataBag.ServiceId%>">
        <!-- Below hidden field contains the value of Goal for Editing/Saving the Service record-->
        <input type='hidden' id="GoalIdForEdit" name="GoalIDforGoalToEdit" value="<%=DataBag.GoalId%>">
        
        <!-- Below hidden field contains the count of family signature on ISP-->
        <input type='hidden' id="countOfFamilySignature" value="<%=DataBag.lstFamilySignature.Count%>">
        <!-- Below hidden field contains the count of staff signature on ISP-->
        <input type='hidden' id="countOfStaffSignature" value="<%=DataBag.lstStaffSignature.Count%>">
        
        <!-- Below hidden to store the databag value when ISP get completed -->
        <input type='hidden' id="successISPId" name="successISPIdName" value="<%=DataBag.IsSuccessISP%>" />
        
        <!-- Below hidden to store the value of list of service model count -->
        <input type='hidden' id="serviceCount" value="<%=Model.lstServiceModel.Count%>" />
        
        <!-- Start of save and complete popup-->
        <div id="saveAndCompleteISPModal" class="modal fade" role="dialog" data-backdrop="static">
          <div class="modal-dialog">
        
            <!-- Modal content-->
            <div class="modal-content">
                  <div class="modal-body" style="margin-top: 4%;margin-bottom: 4%;">
                     <center>
                         <p><span><%:CustomLabels.ShowMessageOnSaveAndCompletePoupForISP%></span></p><br/>
                         <button type="button" class="btn backgroundForButton" onclick="__doPostBack('SaveCompleteISP',{validate:true});showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon glyphicon-ok">&nbsp;Yes</button>
                         <button type="button" class="btn backgroundForButton" data-dismiss="modal"><span class="glyphicon glyphicon glyphicon-remove">&nbsp;No</button>
                     </center>
                  </div>
            </div>
        
          </div>
        </div>
        <!-- End of save and complete popup-->
        
        <!-- Start of Edit popup when status is completed-->
        <div id="editISPModal" class="modal fade" role="dialog" data-backdrop="static">
          <div class="modal-dialog">
        
            <!-- Modal content-->
            <div class="modal-content">
                  <div class="modal-body" style="margin-top: 4%;margin-bottom: 4%;">
                     <center>
                         <p><span><%:CustomLabels.ShowMessageForEditAfterSaveAndComplete%></span></p><br/>
                         <button type="button" class="btn backgroundForButton" onclick="__doPostBack('EditServicePlanInterface');"><span class="glyphicon glyphicon glyphicon-ok">&nbsp;Yes</button>
                         <button type="button" class="btn backgroundForButton" data-dismiss="modal"><span class="glyphicon glyphicon glyphicon-remove">&nbsp;No</button>
                     </center>
                  </div>
            </div>
        
          </div>
        </div>
        <!-- End of Edit popup when status is completed-->
        
        <!-- Start of Save and complete popup when again clicks on save and complete-->
        <div id="AgainSaveAndCompleteISPModal" class="modal fade" role="dialog" data-backdrop="static">
          <div class="modal-dialog">
        
            <!-- Modal content-->
            <div class="modal-content">
                  <div class="modal-body" style="margin-top: 4%;margin-bottom: 4%;">
                     <center>
                         <p><span><%:CustomLabels.ShowMessageWhenAgainClickOnSaveAndComplete%></span></p><br/>
                         <button type="button" class="btn backgroundForButton" onclick="__doPostBack('SaveAndCompleteOnReEdit');showValidationErrorPopup();showCustomValidationErrorPopup();"><span class="glyphicon glyphicon glyphicon-ok">&nbsp;Yes</button>
                         <button type="button" class="btn backgroundForButton" data-dismiss="modal"><span class="glyphicon glyphicon glyphicon-remove">&nbsp;No</button>
                     </center>
                  </div>
            </div>
        
          </div>
        </div>
        <!-- End  of Save and complete popup when again clicks on save and complete-->
        
        <!-- Start of success message popup-->
        <div id="successMessgeForISP" class="modal fade" role="dialog" data-backdrop="static">
          <div class="modal-dialog">
        
            <!-- Modal content-->
            <div class="modal-content">
                  <div class="modal-body" style="margin-top: 4%;margin-bottom: 4%;">
                     <center>
                         <p><span><%:CustomLabels.ShowSuccessMessageForISP%></span></p><br/>
                         <button type="button" class="btn backgroundForButton" onclick="__doPostBack('redirectToClientRecord');"><span class="glyphicon glyphicon glyphicon-ok">&nbsp;Ok</button>
                     </center>
                  </div>
            </div>
        
          </div>
        </div>
        <!-- End of success message popup-->
        
    <%}%>
    
    <script>
    
        //To hide empty goal tables that lead to extra spacing on the page
        $(".scrollBarCssForGoal table:empty").each(function(){ console.log($(this).html());$(this).parent().hide() });
        
        //Variable to set the position of the scroll bar
        var scroll = 0;
        //var scrollDiv = '';
        var boolElement = false;
        //var boolElementForSaveRiskAssesment = false; 
        
        //Function to get the location of the scroll bar on click of the button
        function getTheLocationOftheButton(currentElem){
        
           scroll = $(window).scrollTop();
           
           if(currentElem.id !== undefined){
                //Store the Id of the Button Clicked
                $('#scrollBarId').val(currentElem.id);  
                
           }else{
               $('#scrollBarId').val(currentElem.attr('id'));  
           }
           
           
           //Store the Positon of the Scroll Bar
           $('#scrollPositionBarId').val(scroll);
           
        }
        
        //Function to call the functiona on load and set the scroll bar position
        scrollBarLocation();
        
        //Function to set scroll bar position on load
        function scrollBarLocation (){
            //var queryURL = window.location.href;
            
            //Get the Id of the Scroll Bar on which the button is clicked
            var scrollVal= $('#scrollBarId').val();
            
            var isElementPresent = document.getElementById(scrollVal);
            
            //Check whether the id is present or not [If not then scroll according to the position]
            if (isElementPresent === null) { 
                scrollVal= $('#scrollPositionBarId').val();
                window.scrollTo(0,scrollVal);
                
            }else{
                //Scroll to the id where the button is present.
                document.getElementById('scrollPositionId').click();
                boolElement = true;
            }
        }
        window.setTimeout(function() {
            scrollUp();
        }, 100);
        
        //Method use to scroll when the scroll is executed through href.
        function scrollUp(){
            if(boolElement === true){
            
                scroll = $(window).scrollTop();
                window.scrollTo(0,scroll-250);
            }
              
        }
        
        $( window ).load(function() {
            // Script to widen the text box for two column and one column
            $('.WidenlenthFor-1-Column .ui-autocomplete-input').css({width: '50%'});
            $('.WidenlenthFor-1-Column .text-box').css({width: '50%'});
            $('.WidenlenthFor-1-Column .input-text').css({width: '50%'});
            $('.WidenlenthFor-2-Column .ui-autocomplete-input').css({width: '100%'});
            $('.WidenlenthFor-2-Column .text-box').css({width: '100%'});
            $('.WidenlenthFor-2-Column .input-text').css({width: '100%'});
            
            // script to set the max height for text area
            $(".form-group-0").css("max-height","50px");
            
            $("#ServiceGoalPanelId textarea").css("width","100%")
            
            //Function used to remove the class to reduce the scripting unwanted load of the page (specifically text area) 
            $('.field-validation-valid').remove();
        }); 
        
        AddObjApiToStaffAttrName();
        
        function AddObjApiToStaffAttrName(){
            
            var NameOfInputField = $("#collapseNew :text");
            
            for(i=0;i<NameOfInputField.length;i++){
                $(NameOfInputField[i]).attr('name');    
                $(NameOfInputField[i]).attr('name','staff$'+NameOfInputField[i].name);   
            }
        }
        
        // Method to remove popup when saving if there is no error
        $('#errorModal').on('hidden.bs.modal', function () {
           if($("#errorModal .validation-summary-errors ul li").size()>0 ){
                        
                $("#errorModal .validation-summary-errors ul li").remove();
            }
        });
        /*********************************************************************************************/
        // Method to remove custom popup when saving if there is no error while performing DML operation
        $('#errorCustomModal').on('hidden.bs.modal', function () {
           if($("#errorCustomModal .ServerExceptionCustomClass").size()>0 ){
                        
                $("#errorCustomModal .ServerExceptionCustomClass").remove();
            }
        });
        /*********************************************************************************************/
        // Method to remove custom popup error message from popup
        $('#errorCustomValidationModal').on('hidden.bs.modal', function () {
            if($("#errorCustomValidationModal .ErrorValidationCustomClass").size()>0 ){
                        
                $('#ShowErrorMeassageId').html("");
            }
        });
        
        $('#ServicePlanObjectSectionID select').addClass('form-control');
    </script>
    
</body>
</aspx:AspxPage>